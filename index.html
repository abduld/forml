
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Forml</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <link href='http://fonts.googleapis.com/css?family=Oswald:300' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-combined.min.css" rel="stylesheet">

    <style type="text/css">
.jasmine_reporter a:visited, .jasmine_reporter a {
  color: #303; 
}

.jasmine_reporter a:hover, .jasmine_reporter a:active {
  color: blue; 
}

.run_spec {
  float:right;
  padding-right: 5px;
  font-size: .8em;
  text-decoration: none;
}

.jasmine_reporter {
  margin: 0px 0px 40px 0px;
}

.banner {
  color: #303;
  padding: 5px;
}

.runner.failed {
  background-color: #fdd;
}

.runner.passed {
    background-color: #dfd;
}


.logo {
  float: left;
  font-size: 1.1em;
  padding-left: 5px;
}

.logo .version {
  font-size: .6em;
  padding-left: 1em;
}

.runner.running {
  background-color: yellow;
}


.options {
  text-align: right;
  font-size: .8em;
}




.suite {
  margin: 5px 0px 5px 5px;
  padding-left: 1em;
  padding-top: 2px;
  padding-bottom: 2px;
}

.suite .suite {
  margin: 5px 0px 5px 5px; 
}

.suite.passed {
  background-color: #dfd;
}

.suite.failed {
  background-color: #fdd;
}

.spec {
  margin: 5px 0px 5px 5px;
  padding-left: 1em;
  clear: both;
}

.spec.failed, .spec.passed, .spec.skipped {
  padding-bottom: 5px;
}

.spec.failed {
  background-color: #fbb;
  border-color: red;
}

.spec.passed {
  background-color: #bfb;
  border-color: green;
}

.spec.skipped {
  background-color: #bbb;
}

.messages {
  border-left: 1px dashed gray;
  padding-left: 1em;
  padding-right: 1em;
}

.passed {
 /* background-color: #cfc; */
  display: none;
}

/*
.failed {
  background-color: #fbb;
}
*/
.skipped {
  color: #777;
  background-color: #eee;
  display: none;
}


/*.resultMessage {*/
  /*white-space: pre;*/
/*}*/

.resultMessage span.result {
  display: block;
  line-height: 2em;
  color: black;
}

.resultMessage .mismatch {
  color: black;
}

.stackTrace {
  white-space: pre;
  font-size: .8em;
  margin-left: 10px;
  max-height: 5em;
  overflow: auto;
  border: 1px inset red;
  padding: 1em;
  background: #eef;
}

.finished-at {
  padding-left: 1em;
  font-size: .6em;
}

.show-passed .passed,
.show-skipped .skipped {
  display: block;
}


#jasmine_content {
  position:fixed;
  right: 100%;
}

.runner {
  display: block;
  margin: 5px 0px -5px 5px;
  padding: 2px 0 2px 10px;
}

.pln{color:#000}@media screen{.str{color:#080}.kwd{color:#008}.com{color:#800}.typ{color:#606}.lit{color:#066}.pun,.opn,.clo{color:#660}.tag{color:#008}.atn{color:#606}.atv{color:#080}.dec,.var{color:#606}.fun{color:red}}@media print,projection{.str{color:#060}.kwd{color:#006;font-weight:bold}.com{color:#600;font-style:italic}.typ{color:#404;font-weight:bold}.lit{color:#044}.pun,.opn,.clo{color:#440}.tag{color:#006;font-weight:bold}.atn{color:#404}.atv{color:#060}}pre.prettyprint{padding:2px;border:1px solid #888}ol.linenums{margin-top:0;margin-bottom:0}li.L0,li.L1,li.L2,li.L3,li.L5,li.L6,li.L7,li.L8{list-style-type:none}li.L1,li.L3,li.L5,li.L7,li.L9{background:#eee}

/* GitHub Theme */
/* Pretty printing styles. Used with prettify.js. */
/* SPAN elements with the classes below are added by prettyprint. */
/* plain text */
.pln {
  color: #333333; }

@media screen {

  /* string content */
  .str {
    color: #dd1144; }

  /* a keyword */
  .kwd {
    color: purple; }

  /* a comment */
  .com {
    color: #999988; }

  /* a type name */
  .typ {
    color: #445588; }

  /* a literal value */
  .lit {
    color: #4455ff; }

  /* punctuation */
  .pun {
    color: #999999; }

  /* lisp open bracket */
  .opn {
    color: #333333; }

  /* lisp close bracket */
  .clo {
    color: #333333; }

  /* a markup tag name */
  .tag {
    color: navy; }

  /* a markup attribute name */
  .atn {
    color: teal; }

  /* a markup attribute value */
  .atv {
    color: #dd1144; }

  /* a declaration */
  .dec {
    color: #333333; }

  /* a variable name */
  .var {
    color: teal; }

  /* a function name */
  .fun {
    color: #990000; } }
/* Use higher contrast and text-weight for printable form. */
@media print, projection {
  .str {
    color: #060; }

  .kwd {
    color: #006;
    font-weight: bold; }

  .com {
    color: #600;
    font-style: italic; }

  .typ {
    color: #404;
    font-weight: bold; }

  .lit {
    color: #00f; }

  .pun, .opn, .clo {
    color: #440; }

  .tag {
    color: #006;
    font-weight: bold; }

  .atn {
    color: #404; }

  .atv {
    color: #060; } }
/* Style */
pre.prettyprint {
  background: white;
  font-family: Menlo, Monaco, Consolas, monospace;
  font-size: 12px;
  line-height: 1.5;
  padding: 15px 10px; 
  border: 1px solid #ccc; 
border-width: 1px 1px 1px 1px !important;}
   }

/* Specify class=linenums on a pre to get line numbering */
ol.linenums {
  margin-top: 0;
  margin-bottom: 0; }

/* IE indents via margin-left */
li.L0,
li.L1,
li.L2,
li.L3,
li.L4,
li.L5,
li.L6,
li.L7,
li.L8,
li.L9 {
  /* */ }

/* Alternate shading for lines */
li.L1,
li.L3,
li.L5,
li.L7,
li.L9 {
  /* */ }

@import url(https://fonts.googleapis.com/css?family=Lato:300italic,700italic,300,700);
@import url(https://fonts.googleapis.com/css?family=Oswald:300);

body {
  color:black;
  background: white;
}

h1 {
  color:white;
  margin:0 0 20px;
  font-family: Montserrat, Helvetica;

}
#docs h1, #docs h2, #docs h3, #docs h4, #docs h5, #docs h6 {
    color: black;
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}

pre, code {
  font-size: 14px;
}

a {
  text-decoration: none;
  color: #E53007;
  opacity: 1;
}

.lead {
  font-family: Oswald;
  color: whitesmoke;
}

header p {
  font-family: Oswald;
  color: whitesmoke;
  margin-bottom: 20px;
font-size: 21px;
font-weight: 200;
line-height: 30px;
}

p, ul, ol, table, pre, dl {
  margin:0 0 20px;
}

h1, h2, h3 {
  line-height:1.1;
}

h1 {
  font-size:20px;
}

h2 {
  font-size: 16px;
}

header {
  z-index: -1;
  padding: 50px;
  box-shadow: inset 0px -10px 15px rgba(0,0,0,0.2);
}

.navbar {
    box-shadow: 0px 10px 15px rgba(0,0,0,0.2);
}

header h1 {
	font-size: 60px;
}

header h1:first-letter {
	color: #E53007;
}

pre, .new_lifted {
  border-radius:2px;
  position:relative;
  padding:1em;
  background:#fcfcfc;
  box-shadow: 0px 0px 1px 1px rgba(0,0,0,0.2);
  -o-box-shadow: 0px 0px 1px 1px  rgba(0,0,0,0.2);
  -moz-box-shadow: 0px 0px 1px 1px  rgba(0,0,0,0.2);
}
pre:before, pre:after {
  bottom:14px;
  content: "";
  position: absolute;
  z-index: -1;
  -ms-transform: rotate(-2deg);
  -webkit-transform: rotate(-2deg); /* Safari and Chrome */
  -o-transform: rotate(-2deg); /* Opera */
  -moz-transform: rotate(-2deg); /* Firefox */
  box-shadow: 0 15px 5px rgba(0, 0, 0, 0.3);
  height: 50px;
  left: 5px;
  max-width: 50%;
  width: 50%;
}
pre:after {
  
  -ms-transform: rotate(2deg); /* IE 9 */
  -webkit-transform: rotate(2deg); /* Safari and Chrome */
  -o-transform: rotate(2deg); /* Opera */
  -moz-transform: rotate(2deg); /* Firefox */
  left: auto;
  right: 5px;
}

.affix {
  top: 40px;
  height: 100%;
}

header {
  background: url(masthead.jpg) 50% 50% gray;
  margin-top: 40px;
}

@media (max-width: 767px) {
  header {
    padding: 50 50px;
    margin: -20px -20px 0px -20px;
  }
  #test_suite {
    margin: -5px -37px 0px -37px;
  }
  .row {
    margin-top: 23px;
  }
}

@media (min-width: 768px) {
  header {
    padding: 100px 50px;
  }
  #test_suite {
    width: 2200px;
    margin-top: -5px;
    margin-left: -2000px;
  }
  .jasmine_reporter > .suite, .jasmine_reporter > .runner {
    padding-left: 1950px;
  }
}

@media (max-width: 979px) and (min-width: 768px) {
  header {
    margin-top: -20px;
  }
}

@media (min-width: 980px) {
  header {
    margin-top: 40px;
  }
  #test_suite {
    width: 2270px;
    margin-top: -5px;
  }
}



@media (min-width: 1200px) {
  #test_suite {
    width: 2370px;
    margin-top: -5px;
  }
}

#docs {
  position: relative;
  background: white;
  z-index: 1000;
  margin-left: -20px;
  padding-left: 30px;
  padding-top: 50px;
}

#docs ol, #docs ul {
  padding-left: 20px;
}

footer {
  background: #1b1b1b;
  color: white;
  position: relative;
  z-index: 10;
}

</style>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js" type="text/javascript"></script>
    <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>

    <script>var jasmine={unimplementedMethod_:function(){throw Error("unimplemented method");}};jasmine.undefined=jasmine.___undefined___;jasmine.DEFAULT_UPDATE_INTERVAL=250;jasmine.DEFAULT_TIMEOUT_INTERVAL=5E3;jasmine.getGlobal=function(){return function(){return this}()};jasmine.bindOriginal_=function(a,b){var c=a[b];return c.apply?function(){return c.apply(a,arguments)}:jasmine.getGlobal()[b]};jasmine.setTimeout=jasmine.bindOriginal_(jasmine.getGlobal(),"setTimeout");
jasmine.clearTimeout=jasmine.bindOriginal_(jasmine.getGlobal(),"clearTimeout");jasmine.setInterval=jasmine.bindOriginal_(jasmine.getGlobal(),"setInterval");jasmine.clearInterval=jasmine.bindOriginal_(jasmine.getGlobal(),"clearInterval");jasmine.MessageResult=function(a){this.type="log";this.values=a;this.trace=Error()};
jasmine.MessageResult.prototype.toString=function(){for(var a="",b=0;b<this.values.length;b++)0<b&&(a+=" "),a=jasmine.isString_(this.values[b])?a+this.values[b]:a+jasmine.pp(this.values[b]);return a};jasmine.ExpectationResult=function(a){this.type="expect";this.matcherName=a.matcherName;this.passed_=a.passed;this.expected=a.expected;this.actual=a.actual;this.message=this.passed_?"Passed.":a.message;this.trace=this.passed_?"":Error(this.message)};jasmine.ExpectationResult.prototype.toString=function(){return this.message};
jasmine.ExpectationResult.prototype.passed=function(){return this.passed_};jasmine.getEnv=function(){return jasmine.currentEnv_=jasmine.currentEnv_||new jasmine.Env};jasmine.isArray_=function(a){return jasmine.isA_("Array",a)};jasmine.isString_=function(a){return jasmine.isA_("String",a)};jasmine.isNumber_=function(a){return jasmine.isA_("Number",a)};jasmine.isA_=function(a,b){return Object.prototype.toString.apply(b)==="[object "+a+"]"};
jasmine.pp=function(a){var b=new jasmine.StringPrettyPrinter;b.format(a);return b.string};jasmine.isDomNode=function(a){return 0<a.nodeType};jasmine.any=function(a){return new jasmine.Matchers.Any(a)};jasmine.Spy=function(a){this.identity=a||"unknown";this.isSpy=!0;this.plan=function(){};this.mostRecentCall={};this.argsForCall=[];this.calls=[]};jasmine.Spy.prototype.andCallThrough=function(){this.plan=this.originalValue;return this};
jasmine.Spy.prototype.andReturn=function(a){this.plan=function(){return a};return this};jasmine.Spy.prototype.andThrow=function(a){this.plan=function(){throw a;};return this};jasmine.Spy.prototype.andCallFake=function(a){this.plan=a;return this};jasmine.Spy.prototype.reset=function(){this.wasCalled=!1;this.callCount=0;this.argsForCall=[];this.calls=[];this.mostRecentCall={}};
jasmine.createSpy=function(a){var b=function(){b.wasCalled=!0;b.callCount++;var a=jasmine.util.argsToArray(arguments);b.mostRecentCall.object=this;b.mostRecentCall.args=a;b.argsForCall.push(a);b.calls.push({object:this,args:a});return b.plan.apply(this,arguments)},a=new jasmine.Spy(a),c;for(c in a)b[c]=a[c];b.reset();return b};jasmine.isSpy=function(a){return a&&a.isSpy};
jasmine.createSpyObj=function(a,b){if(!jasmine.isArray_(b)||0==b.length)throw Error("createSpyObj requires a non-empty array of method names to create spies for");for(var c={},d=0;d<b.length;d++)c[b[d]]=jasmine.createSpy(a+"."+b[d]);return c};jasmine.log=function(){var a=jasmine.getEnv().currentSpec;a.log.apply(a,arguments)};
var spyOn=function(a,b){return jasmine.getEnv().currentSpec.spyOn(a,b)},it=function(a,b){return jasmine.getEnv().it(a,b)},xit=function(a,b){return jasmine.getEnv().xit(a,b)},expect=function(a){return jasmine.getEnv().currentSpec.expect(a)},runs=function(a){jasmine.getEnv().currentSpec.runs(a)},waits=function(a){jasmine.getEnv().currentSpec.waits(a)},waitsFor=function(a,b,c){jasmine.getEnv().currentSpec.waitsFor.apply(jasmine.getEnv().currentSpec,arguments)},beforeEach=function(a){jasmine.getEnv().beforeEach(a)},
afterEach=function(a){jasmine.getEnv().afterEach(a)},describe=function(a,b){return jasmine.getEnv().describe(a,b)},xdescribe=function(a,b){return jasmine.getEnv().xdescribe(a,b)};
jasmine.XmlHttpRequest="undefined"==typeof XMLHttpRequest?function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(c){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(d){}throw Error("This browser does not support XMLHttpRequest.");}:XMLHttpRequest;jasmine.util={};jasmine.util.inherit=function(a,b){var c=function(){};c.prototype=b.prototype;a.prototype=new c};
jasmine.util.formatException=function(a){var b;a.line?b=a.line:a.lineNumber&&(b=a.lineNumber);var c;a.sourceURL?c=a.sourceURL:a.fileName&&(c=a.fileName);a=a.name&&a.message?a.name+": "+a.message:a.toString();c&&b&&(a+=" in "+c+" (line "+b+")");return a};jasmine.util.htmlEscape=function(a){return!a?a:a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};jasmine.util.argsToArray=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b};
jasmine.util.extend=function(a,b){for(var c in b)a[c]=b[c];return a};
jasmine.Env=function(){this.currentSuite=this.currentSpec=null;this.currentRunner_=new jasmine.Runner(this);this.reporter=new jasmine.MultiReporter;this.updateInterval=jasmine.DEFAULT_UPDATE_INTERVAL;this.defaultTimeoutInterval=jasmine.DEFAULT_TIMEOUT_INTERVAL;this.lastUpdate=0;this.specFilter=function(){return!0};this.nextSuiteId_=this.nextSpecId_=0;this.equalityTesters_=[];this.matchersClass=function(){jasmine.Matchers.apply(this,arguments)};jasmine.util.inherit(this.matchersClass,jasmine.Matchers);
jasmine.Matchers.wrapInto_(jasmine.Matchers.prototype,this.matchersClass)};jasmine.Env.prototype.setTimeout=jasmine.setTimeout;jasmine.Env.prototype.clearTimeout=jasmine.clearTimeout;jasmine.Env.prototype.setInterval=jasmine.setInterval;jasmine.Env.prototype.clearInterval=jasmine.clearInterval;jasmine.Env.prototype.version=function(){if(jasmine.version_)return jasmine.version_;throw Error("Version not set");};
jasmine.Env.prototype.versionString=function(){if(jasmine.version_){var a=this.version();return a.major+"."+a.minor+"."+a.build+" revision "+a.revision}return"version unknown"};jasmine.Env.prototype.nextSpecId=function(){return this.nextSpecId_++};jasmine.Env.prototype.nextSuiteId=function(){return this.nextSuiteId_++};jasmine.Env.prototype.addReporter=function(a){this.reporter.addReporter(a)};jasmine.Env.prototype.execute=function(){this.currentRunner_.execute()};
jasmine.Env.prototype.describe=function(a,b){var c=new jasmine.Suite(this,a,b,this.currentSuite),d=this.currentSuite;d?d.add(c):this.currentRunner_.add(c);this.currentSuite=c;var e=null;try{b.call(c)}catch(f){e=f}this.currentSuite=d;e&&this.it("encountered a declaration exception",function(){throw e;});return c};jasmine.Env.prototype.beforeEach=function(a){this.currentSuite?this.currentSuite.beforeEach(a):this.currentRunner_.beforeEach(a)};jasmine.Env.prototype.currentRunner=function(){return this.currentRunner_};
jasmine.Env.prototype.afterEach=function(a){this.currentSuite?this.currentSuite.afterEach(a):this.currentRunner_.afterEach(a)};jasmine.Env.prototype.xdescribe=function(){return{execute:function(){}}};jasmine.Env.prototype.it=function(a,b){var c=new jasmine.Spec(this,this.currentSuite,a);this.currentSuite.add(c);this.currentSpec=c;b&&c.runs(b);return c};jasmine.Env.prototype.xit=function(){return{id:this.nextSpecId(),runs:function(){}}};
jasmine.Env.prototype.compareObjects_=function(a,b,c,d){if(a.__Jasmine_been_here_before__===b&&b.__Jasmine_been_here_before__===a)return!0;a.__Jasmine_been_here_before__=b;b.__Jasmine_been_here_before__=a;var e=function(a,b){return null!=a&&a[b]!==jasmine.undefined},f;for(f in b)!e(a,f)&&e(b,f)&&c.push("expected has key '"+f+"', but missing from actual.");for(f in a)!e(b,f)&&e(a,f)&&c.push("expected missing key '"+f+"', but present in actual.");for(f in b)"__Jasmine_been_here_before__"!=f&&(this.equals_(a[f],
b[f],c,d)||d.push("'"+f+"' was '"+(b[f]?jasmine.util.htmlEscape(b[f].toString()):b[f])+"' in expected, but was '"+(a[f]?jasmine.util.htmlEscape(a[f].toString()):a[f])+"' in actual."));jasmine.isArray_(a)&&(jasmine.isArray_(b)&&a.length!=b.length)&&d.push("arrays were not the same length");delete a.__Jasmine_been_here_before__;delete b.__Jasmine_been_here_before__;return 0==c.length&&0==d.length};
jasmine.Env.prototype.equals_=function(a,b,c,d){for(var c=c||[],d=d||[],e=0;e<this.equalityTesters_.length;e++){var f=(0,this.equalityTesters_[e])(a,b,this,c,d);if(f!==jasmine.undefined)return f}return a===b?!0:a===jasmine.undefined||null===a||b===jasmine.undefined||null===b?a==jasmine.undefined&&b==jasmine.undefined:jasmine.isDomNode(a)&&jasmine.isDomNode(b)?a===b:a instanceof Date&&b instanceof Date?a.getTime()==b.getTime():a instanceof jasmine.Matchers.Any?a.matches(b):b instanceof jasmine.Matchers.Any?
b.matches(a):jasmine.isString_(a)&&jasmine.isString_(b)||jasmine.isNumber_(a)&&jasmine.isNumber_(b)?a==b:"object"===typeof a&&"object"===typeof b?this.compareObjects_(a,b,c,d):a===b};jasmine.Env.prototype.contains_=function(a,b){if(jasmine.isArray_(a)){for(var c=0;c<a.length;c++)if(this.equals_(a[c],b))return!0;return!1}return 0<=a.indexOf(b)};jasmine.Env.prototype.addEqualityTester=function(a){this.equalityTesters_.push(a)};jasmine.Reporter=function(){};
jasmine.Reporter.prototype.reportRunnerStarting=function(){};jasmine.Reporter.prototype.reportRunnerResults=function(){};jasmine.Reporter.prototype.reportSuiteResults=function(){};jasmine.Reporter.prototype.reportSpecStarting=function(){};jasmine.Reporter.prototype.reportSpecResults=function(){};jasmine.Reporter.prototype.log=function(){};jasmine.Block=function(a,b,c){this.env=a;this.func=b;this.spec=c};jasmine.Block.prototype.execute=function(a){try{this.func.apply(this.spec)}catch(b){this.spec.fail(b)}a()};
jasmine.JsApiReporter=function(){this.finished=this.started=!1;this.suites_=[];this.results_={}};jasmine.JsApiReporter.prototype.reportRunnerStarting=function(a){this.started=!0;for(var a=a.topLevelSuites(),b=0;b<a.length;b++)this.suites_.push(this.summarize_(a[b]))};jasmine.JsApiReporter.prototype.suites=function(){return this.suites_};
jasmine.JsApiReporter.prototype.summarize_=function(a){var b=a instanceof jasmine.Suite,c={id:a.id,name:a.description,type:b?"suite":"spec",children:[]};if(b){a=a.children();for(b=0;b<a.length;b++)c.children.push(this.summarize_(a[b]))}return c};jasmine.JsApiReporter.prototype.results=function(){return this.results_};jasmine.JsApiReporter.prototype.resultsForSpec=function(a){return this.results_[a]};jasmine.JsApiReporter.prototype.reportRunnerResults=function(){this.finished=!0};
jasmine.JsApiReporter.prototype.reportSuiteResults=function(){};jasmine.JsApiReporter.prototype.reportSpecResults=function(a){this.results_[a.id]={messages:a.results().getItems(),result:0<a.results().failedCount?"failed":"passed"}};jasmine.JsApiReporter.prototype.log=function(){};jasmine.JsApiReporter.prototype.resultsForSpecs=function(a){for(var b={},c=0;c<a.length;c++){var d=a[c];b[d]=this.summarizeResult_(this.results_[d])}return b};
jasmine.JsApiReporter.prototype.summarizeResult_=function(a){for(var b=[],c=a.messages.length,d=0;d<c;d++){var e=a.messages[d];b.push({text:"log"==e.type?e.toString():jasmine.undefined,passed:e.passed?e.passed():!0,type:e.type,message:e.message,trace:{stack:e.passed&&!e.passed()?e.trace.stack:jasmine.undefined}})}return{result:a.result,messages:b}};jasmine.Matchers=function(a,b,c,d){this.env=a;this.actual=b;this.spec=c;this.isNot=d||!1;this.reportWasCalled_=!1};
jasmine.Matchers.pp=function(){throw Error("jasmine.Matchers.pp() is no longer supported, please use jasmine.pp() instead!");};jasmine.Matchers.prototype.report=function(){throw Error("As of jasmine 0.11, custom matchers must be implemented differently -- please see jasmine docs");};jasmine.Matchers.wrapInto_=function(a,b){for(var c in a)"report"!=c&&(b.prototype[c]=jasmine.Matchers.matcherFn_(c,a[c]))};
jasmine.Matchers.matcherFn_=function(a,b){return function(){var c=jasmine.util.argsToArray(arguments),d=b.apply(this,arguments);this.isNot&&(d=!d);if(this.reportWasCalled_)return d;var e;if(!d)if(this.message)e=this.message.apply(this,arguments),jasmine.isArray_(e)&&(e=e[this.isNot?1:0]);else{e=a.replace(/[A-Z]/g,function(a){return" "+a.toLowerCase()});e="Expected "+jasmine.pp(this.actual)+(this.isNot?" not ":" ")+e;if(0<c.length)for(var f=0;f<c.length;f++)0<f&&(e+=","),e+=" "+jasmine.pp(c[f]);e+=
"."}this.spec.addMatcherResult(new jasmine.ExpectationResult({matcherName:a,passed:d,expected:1<c.length?c:c[0],actual:this.actual,message:e}));return jasmine.undefined}};jasmine.Matchers.prototype.toBe=function(a){return this.actual===a};jasmine.Matchers.prototype.toNotBe=function(a){return this.actual!==a};jasmine.Matchers.prototype.toEqual=function(a){return this.env.equals_(this.actual,a)};jasmine.Matchers.prototype.toNotEqual=function(a){return!this.env.equals_(this.actual,a)};
jasmine.Matchers.prototype.toMatch=function(a){return RegExp(a).test(this.actual)};jasmine.Matchers.prototype.toNotMatch=function(a){return!RegExp(a).test(this.actual)};jasmine.Matchers.prototype.toBeDefined=function(){return this.actual!==jasmine.undefined};jasmine.Matchers.prototype.toBeUndefined=function(){return this.actual===jasmine.undefined};jasmine.Matchers.prototype.toBeNull=function(){return null===this.actual};jasmine.Matchers.prototype.toBeTruthy=function(){return!!this.actual};
jasmine.Matchers.prototype.toBeFalsy=function(){return!this.actual};jasmine.Matchers.prototype.toHaveBeenCalled=function(){if(0<arguments.length)throw Error("toHaveBeenCalled does not take arguments, use toHaveBeenCalledWith");if(!jasmine.isSpy(this.actual))throw Error("Expected a spy, but got "+jasmine.pp(this.actual)+".");this.message=function(){return["Expected spy "+this.actual.identity+" to have been called.","Expected spy "+this.actual.identity+" not to have been called."]};return this.actual.wasCalled};
jasmine.Matchers.prototype.wasCalled=jasmine.Matchers.prototype.toHaveBeenCalled;jasmine.Matchers.prototype.wasNotCalled=function(){if(0<arguments.length)throw Error("wasNotCalled does not take arguments");if(!jasmine.isSpy(this.actual))throw Error("Expected a spy, but got "+jasmine.pp(this.actual)+".");this.message=function(){return["Expected spy "+this.actual.identity+" to not have been called.","Expected spy "+this.actual.identity+" to have been called."]};return!this.actual.wasCalled};
jasmine.Matchers.prototype.toHaveBeenCalledWith=function(){var a=jasmine.util.argsToArray(arguments);if(!jasmine.isSpy(this.actual))throw Error("Expected a spy, but got "+jasmine.pp(this.actual)+".");this.message=function(){return 0==this.actual.callCount?["Expected spy to have been called with "+jasmine.pp(a)+" but it was never called.","Expected spy not to have been called with "+jasmine.pp(a)+" but it was."]:["Expected spy to have been called with "+jasmine.pp(a)+" but was called with "+jasmine.pp(this.actual.argsForCall),
"Expected spy not to have been called with "+jasmine.pp(a)+" but was called with "+jasmine.pp(this.actual.argsForCall)]};return this.env.contains_(this.actual.argsForCall,a)};jasmine.Matchers.prototype.wasCalledWith=jasmine.Matchers.prototype.toHaveBeenCalledWith;
jasmine.Matchers.prototype.wasNotCalledWith=function(){var a=jasmine.util.argsToArray(arguments);if(!jasmine.isSpy(this.actual))throw Error("Expected a spy, but got "+jasmine.pp(this.actual)+".");this.message=function(){return["Expected spy not to have been called with "+jasmine.pp(a)+" but it was","Expected spy to have been called with "+jasmine.pp(a)+" but it was"]};return!this.env.contains_(this.actual.argsForCall,a)};
jasmine.Matchers.prototype.toContain=function(a){return this.env.contains_(this.actual,a)};jasmine.Matchers.prototype.toNotContain=function(a){return!this.env.contains_(this.actual,a)};jasmine.Matchers.prototype.toBeLessThan=function(a){return this.actual<a};jasmine.Matchers.prototype.toBeGreaterThan=function(a){return this.actual>a};
jasmine.Matchers.prototype.toThrow=function(a){var b=!1,c;if("function"!=typeof this.actual)throw Error("Actual is not a function");try{this.actual()}catch(d){c=d}c&&(b=a===jasmine.undefined||this.env.equals_(c.message||c,a.message||a));var e=this.isNot?"not ":"";this.message=function(){return c&&(a===jasmine.undefined||!this.env.equals_(c.message||c,a.message||a))?["Expected function "+e+"to throw",a?a.message||a:" an exception",", but it threw",c.message||c].join(" "):"Expected function to throw an exception."};
return b};jasmine.Matchers.Any=function(a){this.expectedClass=a};jasmine.Matchers.Any.prototype.matches=function(a){return this.expectedClass==String?"string"==typeof a||a instanceof String:this.expectedClass==Number?"number"==typeof a||a instanceof Number:this.expectedClass==Function?"function"==typeof a||a instanceof Function:this.expectedClass==Object?"object"==typeof a:a instanceof this.expectedClass};
jasmine.Matchers.Any.prototype.toString=function(){return"<jasmine.any("+this.expectedClass+")>"};jasmine.MultiReporter=function(){this.subReporters_=[]};jasmine.util.inherit(jasmine.MultiReporter,jasmine.Reporter);jasmine.MultiReporter.prototype.addReporter=function(a){this.subReporters_.push(a)};
(function(){for(var a="reportRunnerStarting reportRunnerResults reportSuiteResults reportSpecStarting reportSpecResults log".split(" "),b=0;b<a.length;b++){var c=a[b];jasmine.MultiReporter.prototype[c]=function(a){return function(){for(var b=0;b<this.subReporters_.length;b++){var c=this.subReporters_[b];c[a]&&c[a].apply(c,arguments)}}}(c)}})();jasmine.NestedResults=function(){this.failedCount=this.passedCount=this.totalCount=0;this.skipped=!1;this.items_=[]};
jasmine.NestedResults.prototype.rollupCounts=function(a){this.totalCount+=a.totalCount;this.passedCount+=a.passedCount;this.failedCount+=a.failedCount};jasmine.NestedResults.prototype.log=function(a){this.items_.push(new jasmine.MessageResult(a))};jasmine.NestedResults.prototype.getItems=function(){return this.items_};jasmine.NestedResults.prototype.addResult=function(a){"log"!=a.type&&(a.items_?this.rollupCounts(a):(this.totalCount++,a.passed()?this.passedCount++:this.failedCount++));this.items_.push(a)};
jasmine.NestedResults.prototype.passed=function(){return this.passedCount===this.totalCount};jasmine.PrettyPrinter=function(){this.ppNestLevel_=0};
jasmine.PrettyPrinter.prototype.format=function(a){if(40<this.ppNestLevel_)throw Error("jasmine.PrettyPrinter: format() nested too deeply!");this.ppNestLevel_++;try{a===jasmine.undefined?this.emitScalar("undefined"):null===a?this.emitScalar("null"):a===jasmine.getGlobal()?this.emitScalar("<global>"):a instanceof jasmine.Matchers.Any?this.emitScalar(a.toString()):"string"===typeof a?this.emitString(a):jasmine.isSpy(a)?this.emitScalar("spy on "+a.identity):a instanceof RegExp?this.emitScalar(a.toString()):
"function"===typeof a?this.emitScalar("Function"):"number"===typeof a.nodeType?this.emitScalar("HTMLNode"):a instanceof Date?this.emitScalar("Date("+a+")"):a.__Jasmine_been_here_before__?this.emitScalar("<circular reference: "+(jasmine.isArray_(a)?"Array":"Object")+">"):jasmine.isArray_(a)||"object"==typeof a?(a.__Jasmine_been_here_before__=!0,jasmine.isArray_(a)?this.emitArray(a):this.emitObject(a),delete a.__Jasmine_been_here_before__):this.emitScalar(a.toString())}finally{this.ppNestLevel_--}};
jasmine.PrettyPrinter.prototype.iterateObject=function(a,b){for(var c in a)"__Jasmine_been_here_before__"!=c&&b(c,a.__lookupGetter__?null!=a.__lookupGetter__(c):!1)};jasmine.PrettyPrinter.prototype.emitArray=jasmine.unimplementedMethod_;jasmine.PrettyPrinter.prototype.emitObject=jasmine.unimplementedMethod_;jasmine.PrettyPrinter.prototype.emitScalar=jasmine.unimplementedMethod_;jasmine.PrettyPrinter.prototype.emitString=jasmine.unimplementedMethod_;
jasmine.StringPrettyPrinter=function(){jasmine.PrettyPrinter.call(this);this.string=""};jasmine.util.inherit(jasmine.StringPrettyPrinter,jasmine.PrettyPrinter);jasmine.StringPrettyPrinter.prototype.emitScalar=function(a){this.append(a)};jasmine.StringPrettyPrinter.prototype.emitString=function(a){this.append("'"+a+"'")};jasmine.StringPrettyPrinter.prototype.emitArray=function(a){this.append("[ ");for(var b=0;b<a.length;b++)0<b&&this.append(", "),this.format(a[b]);this.append(" ]")};
jasmine.StringPrettyPrinter.prototype.emitObject=function(a){var b=this;this.append("{ ");var c=!0;this.iterateObject(a,function(d,e){c?c=!1:b.append(", ");b.append(d);b.append(" : ");e?b.append("<getter>"):b.format(a[d])});this.append(" }")};jasmine.StringPrettyPrinter.prototype.append=function(a){this.string+=a};jasmine.Queue=function(a){this.env=a;this.blocks=[];this.running=!1;this.offset=this.index=0;this.abort=!1};jasmine.Queue.prototype.addBefore=function(a){this.blocks.unshift(a)};
jasmine.Queue.prototype.add=function(a){this.blocks.push(a)};jasmine.Queue.prototype.insertNext=function(a){this.blocks.splice(this.index+this.offset+1,0,a);this.offset++};jasmine.Queue.prototype.start=function(a){this.running=!0;this.onComplete=a;this.next_()};jasmine.Queue.prototype.isRunning=function(){return this.running};jasmine.Queue.LOOP_DONT_RECURSE=!0;
jasmine.Queue.prototype.next_=function(){for(var a=this,b=!0;b;)if(b=!1,a.index<a.blocks.length&&!this.abort){var c=!0,d=!1,e=function(){if(jasmine.Queue.LOOP_DONT_RECURSE&&c)d=!0;else{a.blocks[a.index].abort&&(a.abort=!0);a.offset=0;a.index++;var e=(new Date).getTime();a.env.updateInterval&&e-a.env.lastUpdate>a.env.updateInterval?(a.env.lastUpdate=e,a.env.setTimeout(function(){a.next_()},0)):jasmine.Queue.LOOP_DONT_RECURSE&&d?b=!0:a.next_()}};a.blocks[a.index].execute(e);c=!1;d&&e()}else if(a.running=
!1,a.onComplete)a.onComplete()};jasmine.Queue.prototype.results=function(){for(var a=new jasmine.NestedResults,b=0;b<this.blocks.length;b++)this.blocks[b].results&&a.addResult(this.blocks[b].results());return a};jasmine.Runner=function(a){this.env=a;this.queue=new jasmine.Queue(a);this.before_=[];this.after_=[];this.suites_=[]};jasmine.Runner.prototype.execute=function(){var a=this;a.env.reporter.reportRunnerStarting&&a.env.reporter.reportRunnerStarting(this);a.queue.start(function(){a.finishCallback()})};
jasmine.Runner.prototype.beforeEach=function(a){a.typeName="beforeEach";this.before_.splice(0,0,a)};jasmine.Runner.prototype.afterEach=function(a){a.typeName="afterEach";this.after_.splice(0,0,a)};jasmine.Runner.prototype.finishCallback=function(){this.env.reporter.reportRunnerResults(this)};jasmine.Runner.prototype.addSuite=function(a){this.suites_.push(a)};jasmine.Runner.prototype.add=function(a){a instanceof jasmine.Suite&&this.addSuite(a);this.queue.add(a)};
jasmine.Runner.prototype.specs=function(){for(var a=this.suites(),b=[],c=0;c<a.length;c++)b=b.concat(a[c].specs());return b};jasmine.Runner.prototype.suites=function(){return this.suites_};jasmine.Runner.prototype.topLevelSuites=function(){for(var a=[],b=0;b<this.suites_.length;b++)this.suites_[b].parentSuite||a.push(this.suites_[b]);return a};jasmine.Runner.prototype.results=function(){return this.queue.results()};
jasmine.Spec=function(a,b,c){if(!a)throw Error("jasmine.Env() required");if(!b)throw Error("jasmine.Suite() required");this.id=a.nextSpecId?a.nextSpecId():null;this.env=a;this.suite=b;this.description=c;this.queue=new jasmine.Queue(a);this.afterCallbacks=[];this.spies_=[];this.results_=new jasmine.NestedResults;this.results_.description=c;this.matchersClass=null};jasmine.Spec.prototype.getFullName=function(){return this.suite.getFullName()+" "+this.description+"."};
jasmine.Spec.prototype.results=function(){return this.results_};jasmine.Spec.prototype.log=function(){return this.results_.log(arguments)};jasmine.Spec.prototype.runs=function(a){this.addToQueue(new jasmine.Block(this.env,a,this));return this};jasmine.Spec.prototype.addToQueue=function(a){this.queue.isRunning()?this.queue.insertNext(a):this.queue.add(a)};jasmine.Spec.prototype.addMatcherResult=function(a){this.results_.addResult(a)};
jasmine.Spec.prototype.expect=function(a){var b=new (this.getMatchersClass_())(this.env,a,this);b.not=new (this.getMatchersClass_())(this.env,a,this,!0);return b};jasmine.Spec.prototype.waits=function(a){this.addToQueue(new jasmine.WaitsBlock(this.env,a,this));return this};
jasmine.Spec.prototype.waitsFor=function(a,b,c){for(var d=null,e=null,f=null,g=0;g<arguments.length;g++){var h=arguments[g];switch(typeof h){case "function":d=h;break;case "string":e=h;break;case "number":f=h}}this.addToQueue(new jasmine.WaitsForBlock(this.env,f,d,e,this));return this};jasmine.Spec.prototype.fail=function(a){this.results_.addResult(new jasmine.ExpectationResult({passed:!1,message:a?jasmine.util.formatException(a):"Exception"}))};
jasmine.Spec.prototype.getMatchersClass_=function(){return this.matchersClass||this.env.matchersClass};jasmine.Spec.prototype.addMatchers=function(a){var b=this.getMatchersClass_(),c=function(){b.apply(this,arguments)};jasmine.util.inherit(c,b);jasmine.Matchers.wrapInto_(a,c);this.matchersClass=c};jasmine.Spec.prototype.finishCallback=function(){this.env.reporter.reportSpecResults(this)};jasmine.Spec.prototype.finish=function(a){this.removeAllSpies();this.finishCallback();a&&a()};
jasmine.Spec.prototype.after=function(a){this.queue.isRunning()?this.queue.add(new jasmine.Block(this.env,a,this)):this.afterCallbacks.unshift(a)};jasmine.Spec.prototype.execute=function(a){var b=this;b.env.specFilter(b)?(this.env.reporter.reportSpecStarting(this),b.env.currentSpec=b,b.addBeforesAndAftersToQueue(),b.queue.start(function(){b.finish(a)})):(b.results_.skipped=!0,b.finish(a))};
jasmine.Spec.prototype.addBeforesAndAftersToQueue=function(){for(var a=this.env.currentRunner(),b,c=this.suite;c;c=c.parentSuite)for(b=0;b<c.before_.length;b++)this.queue.addBefore(new jasmine.Block(this.env,c.before_[b],this));for(b=0;b<a.before_.length;b++)this.queue.addBefore(new jasmine.Block(this.env,a.before_[b],this));for(b=0;b<this.afterCallbacks.length;b++)this.queue.add(new jasmine.Block(this.env,this.afterCallbacks[b],this));for(c=this.suite;c;c=c.parentSuite)for(b=0;b<c.after_.length;b++)this.queue.add(new jasmine.Block(this.env,
c.after_[b],this));for(b=0;b<a.after_.length;b++)this.queue.add(new jasmine.Block(this.env,a.after_[b],this))};jasmine.Spec.prototype.explodes=function(){throw"explodes function should not have been called";};
jasmine.Spec.prototype.spyOn=function(a,b,c){if(a==jasmine.undefined)throw"spyOn could not find an object to spy upon for "+b+"()";if(!c&&a[b]===jasmine.undefined)throw b+"() method does not exist";if(!c&&a[b]&&a[b].isSpy)throw Error(b+" has already been spied upon");c=jasmine.createSpy(b);this.spies_.push(c);c.baseObj=a;c.methodName=b;c.originalValue=a[b];return a[b]=c};
jasmine.Spec.prototype.removeAllSpies=function(){for(var a=0;a<this.spies_.length;a++){var b=this.spies_[a];b.baseObj[b.methodName]=b.originalValue}this.spies_=[]};jasmine.Suite=function(a,b,c,d){this.id=a.nextSuiteId?a.nextSuiteId():null;this.description=b;this.queue=new jasmine.Queue(a);this.parentSuite=d;this.env=a;this.before_=[];this.after_=[];this.children_=[];this.suites_=[];this.specs_=[]};
jasmine.Suite.prototype.getFullName=function(){for(var a=this.description,b=this.parentSuite;b;b=b.parentSuite)a=b.description+" "+a;return a};jasmine.Suite.prototype.finish=function(a){this.env.reporter.reportSuiteResults(this);this.finished=!0;"function"==typeof a&&a()};jasmine.Suite.prototype.beforeEach=function(a){a.typeName="beforeEach";this.before_.unshift(a)};jasmine.Suite.prototype.afterEach=function(a){a.typeName="afterEach";this.after_.unshift(a)};jasmine.Suite.prototype.results=function(){return this.queue.results()};
jasmine.Suite.prototype.add=function(a){this.children_.push(a);a instanceof jasmine.Suite?(this.suites_.push(a),this.env.currentRunner().addSuite(a)):this.specs_.push(a);this.queue.add(a)};jasmine.Suite.prototype.specs=function(){return this.specs_};jasmine.Suite.prototype.suites=function(){return this.suites_};jasmine.Suite.prototype.children=function(){return this.children_};jasmine.Suite.prototype.execute=function(a){var b=this;this.queue.start(function(){b.finish(a)})};
jasmine.WaitsBlock=function(a,b,c){this.timeout=b;jasmine.Block.call(this,a,null,c)};jasmine.util.inherit(jasmine.WaitsBlock,jasmine.Block);jasmine.WaitsBlock.prototype.execute=function(a){this.env.reporter.log(">> Jasmine waiting for "+this.timeout+" ms...");this.env.setTimeout(function(){a()},this.timeout)};jasmine.WaitsForBlock=function(a,b,c,d,e){this.timeout=b||a.defaultTimeoutInterval;this.latchFunction=c;this.message=d;this.totalTimeSpentWaitingForLatch=0;jasmine.Block.call(this,a,null,e)};
jasmine.util.inherit(jasmine.WaitsForBlock,jasmine.Block);jasmine.WaitsForBlock.TIMEOUT_INCREMENT=10;
jasmine.WaitsForBlock.prototype.execute=function(a){this.env.reporter.log(">> Jasmine waiting for "+(this.message||"something to happen"));var b;try{b=this.latchFunction.apply(this.spec)}catch(c){this.spec.fail(c);a();return}if(b)a();else if(this.totalTimeSpentWaitingForLatch>=this.timeout)this.spec.fail({name:"timeout",message:"timed out after "+this.timeout+" msec waiting for "+(this.message||"something to happen")}),this.abort=!0,a();else{this.totalTimeSpentWaitingForLatch+=jasmine.WaitsForBlock.TIMEOUT_INCREMENT;
var d=this;this.env.setTimeout(function(){d.execute(a)},jasmine.WaitsForBlock.TIMEOUT_INCREMENT)}};jasmine.FakeTimer=function(){this.reset();var a=this;a.setTimeout=function(b,c){a.timeoutsMade++;a.scheduleFunction(a.timeoutsMade,b,c,!1);return a.timeoutsMade};a.setInterval=function(b,c){a.timeoutsMade++;a.scheduleFunction(a.timeoutsMade,b,c,!0);return a.timeoutsMade};a.clearTimeout=function(b){a.scheduledFunctions[b]=jasmine.undefined};a.clearInterval=function(b){a.scheduledFunctions[b]=jasmine.undefined}};
jasmine.FakeTimer.prototype.reset=function(){this.timeoutsMade=0;this.scheduledFunctions={};this.nowMillis=0};jasmine.FakeTimer.prototype.tick=function(a){var b=this.nowMillis,a=b+a;this.runFunctionsWithinRange(b,a);this.nowMillis=a};
jasmine.FakeTimer.prototype.runFunctionsWithinRange=function(a,b){var c,d=[],e;for(e in this.scheduledFunctions)c=this.scheduledFunctions[e],c!=jasmine.undefined&&(c.runAtMillis>=a&&c.runAtMillis<=b)&&(d.push(c),this.scheduledFunctions[e]=jasmine.undefined);if(0<d.length){d.sort(function(a,b){return a.runAtMillis-b.runAtMillis});for(c=0;c<d.length;++c)try{var f=d[c];this.nowMillis=f.runAtMillis;f.funcToCall();f.recurring&&this.scheduleFunction(f.timeoutKey,f.funcToCall,f.millis,!0)}catch(g){}this.runFunctionsWithinRange(a,
b)}};jasmine.FakeTimer.prototype.scheduleFunction=function(a,b,c,d){this.scheduledFunctions[a]={runAtMillis:this.nowMillis+c,funcToCall:b,recurring:d,timeoutKey:a,millis:c}};
jasmine.Clock={defaultFakeTimer:new jasmine.FakeTimer,reset:function(){jasmine.Clock.assertInstalled();jasmine.Clock.defaultFakeTimer.reset()},tick:function(a){jasmine.Clock.assertInstalled();jasmine.Clock.defaultFakeTimer.tick(a)},runFunctionsWithinRange:function(a,b){jasmine.Clock.defaultFakeTimer.runFunctionsWithinRange(a,b)},scheduleFunction:function(a,b,c,d){jasmine.Clock.defaultFakeTimer.scheduleFunction(a,b,c,d)},useMock:function(){jasmine.Clock.isInstalled()||(jasmine.getEnv().currentSpec.after(jasmine.Clock.uninstallMock),
jasmine.Clock.installMock())},installMock:function(){jasmine.Clock.installed=jasmine.Clock.defaultFakeTimer},uninstallMock:function(){jasmine.Clock.assertInstalled();jasmine.Clock.installed=jasmine.Clock.real},real:{setTimeout:jasmine.getGlobal().setTimeout,clearTimeout:jasmine.getGlobal().clearTimeout,setInterval:jasmine.getGlobal().setInterval,clearInterval:jasmine.getGlobal().clearInterval},assertInstalled:function(){if(!jasmine.Clock.isInstalled())throw Error("Mock clock is not installed, use jasmine.Clock.useMock()");
},isInstalled:function(){return jasmine.Clock.installed==jasmine.Clock.defaultFakeTimer},installed:null};jasmine.Clock.installed=jasmine.Clock.real;jasmine.getGlobal().setTimeout=function(a,b){return jasmine.Clock.installed.setTimeout.apply?jasmine.Clock.installed.setTimeout.apply(this,arguments):jasmine.Clock.installed.setTimeout(a,b)};
jasmine.getGlobal().setInterval=function(a,b){return jasmine.Clock.installed.setInterval.apply?jasmine.Clock.installed.setInterval.apply(this,arguments):jasmine.Clock.installed.setInterval(a,b)};jasmine.getGlobal().clearTimeout=function(a){return jasmine.Clock.installed.clearTimeout.apply?jasmine.Clock.installed.clearTimeout.apply(this,arguments):jasmine.Clock.installed.clearTimeout(a)};
jasmine.getGlobal().clearInterval=function(a){return jasmine.Clock.installed.clearTimeout.apply?jasmine.Clock.installed.clearInterval.apply(this,arguments):jasmine.Clock.installed.clearInterval(a)};jasmine.version_={major:1,minor:0,build:1,revision:1286311016};
jasmine.TrivialReporter=function(a){this.document=a||document;this.suiteDivs={};this.logRunningSpecs=!1};jasmine.TrivialReporter.prototype.createDom=function(a,b,c){for(var d=document.createElement(a),e=2;e<arguments.length;e++){var f=arguments[e];"string"===typeof f?d.appendChild(document.createTextNode(f)):f&&d.appendChild(f)}for(var g in b)"className"==g?d[g]=b[g]:d.setAttribute(g,b[g]);return d};
jasmine.TrivialReporter.prototype.reportRunnerStarting=function(a){this.outerDiv=this.createDom("div",{className:"jasmine_reporter"},this.runnerDiv=this.createDom("div",{className:"runner running"},this.createDom("a",{className:"run_spec",href:"?"},""),this.runnerMessageSpan=this.createDom("span",{},"Running..."),this.finishedAtSpan=this.createDom("span",{className:"finished-at"},"")));this.document.body.appendChild(this.outerDiv);a=a.suites();for(var b=0;b<a.length;b++){var c=a[b],d=this.createDom("div",
{className:"suite"},this.createDom("a",{className:"run_spec",href:"?spec="+encodeURIComponent(c.getFullName())},""),this.createDom("a",{className:"description",href:"?spec="+encodeURIComponent(c.getFullName())},c.description));this.suiteDivs[c.id]=d;var e=this.outerDiv;c.parentSuite&&(e=this.suiteDivs[c.parentSuite.id]);e.appendChild(d)}this.startedAt=new Date;this.outerDiv.className+=" show-passed"};
jasmine.TrivialReporter.prototype.reportRunnerResults=function(a){var b=a.results(),c=0<b.failedCount?"runner failed":"runner passed";this.runnerDiv.setAttribute("class",c);this.runnerDiv.setAttribute("className",c);a=a.specs();for(var d=c=0;d<a.length;d++)this.specFilter(a[d])&&c++;b=""+c+" spec"+(1==c?"":"s")+", "+b.failedCount+" failure"+(1==b.failedCount?"":"s");b+=" in "+((new Date).getTime()-this.startedAt.getTime())/1E3+"s";this.runnerMessageSpan.replaceChild(this.createDom("a",{className:"description",
href:"?"},b),this.runnerMessageSpan.firstChild);this.finishedAtSpan.appendChild(document.createTextNode("Finished at "+(new Date).toString()))};jasmine.TrivialReporter.prototype.reportSuiteResults=function(a){var b=a.results(),c=b.passed()?"passed":"failed";0==b.totalCount&&(c="skipped");this.suiteDivs[a.id].className+=" "+c};jasmine.TrivialReporter.prototype.reportSpecStarting=function(a){this.logRunningSpecs&&this.log(">> Jasmine Running "+a.suite.description+" "+a.description+"...")};
jasmine.TrivialReporter.prototype.reportSpecResults=function(a){var b=a.results(),c=b.passed()?"passed":"failed";b.skipped&&(c="skipped");for(var c=this.createDom("div",{className:"spec "+c},this.createDom("a",{className:"run_spec",href:"?spec="+encodeURIComponent(a.getFullName())},""),this.createDom("a",{className:"description",href:"?spec="+encodeURIComponent(a.getFullName()),title:a.getFullName()},a.description.split("__::__")[1])),b=b.getItems(),d=this.createDom("div",{className:"messages"}),
e=0;e<b.length;e++){var f=b[e];"log"==f.type?d.appendChild(this.createDom("div",{className:"resultMessage log"},f.toString())):"expect"==f.type&&f.passed&&!f.passed()&&(d.appendChild(this.createDom("div",{className:"resultMessage fail"},f.message)),f.trace.stack&&d.appendChild(this.createDom("div",{className:"stackTrace"},f.trace.stack)))}0<d.childNodes.length&&c.appendChild(d);this.suiteDivs[a.suite.id].appendChild(c)};
jasmine.TrivialReporter.prototype.log=function(){var a=jasmine.getGlobal().console;a&&a.log&&(a.log.apply?a.log.apply(a,arguments):a.log(arguments))};jasmine.TrivialReporter.prototype.getLocation=function(){return this.document.location};jasmine.TrivialReporter.prototype.specFilter=function(a){for(var b={},c=this.getLocation().search.substring(1).split("&"),d=0;d<c.length;d++){var e=c[d].split("=");b[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return!b.spec?!0:0==a.getFullName().indexOf(b.spec)}; (function(){jasmine.FormlReporter=function(a){this.document=a||document;this.suiteDivs={};this.logRunningSpecs=!1};jasmine.FormlReporter.prototype.createDom=function(){};jasmine.FormlReporter.prototype.reportRunnerStarting=function(a){a=a.suites();for(var b=0;b<a.length;b++);this.startedAt=new Date};jasmine.FormlReporter.prototype.reportRunnerResults=function(){$("#run_tests").unbind();$("header #test_button").css({"background-color":"lightgreen"});$("#docs").css("box-shadow","-10px 20px 15px rgba(0,0,0,0.1)");
$("header #test_button a, header #test_button strong").css({color:"white"})};jasmine.FormlReporter.prototype.reportSuiteResults=function(){};jasmine.FormlReporter.prototype.reportSpecStarting=function(){};jasmine.FormlReporter.prototype.reportSpecResults=function(a){var b=a.results().passed()?"passed":"failed",c="#test_"+a.description.split("__::__")[0];$(c);a.description=a.description.split("__::__")[1];"passed"==b?(c.indexOf("multi"),$(c).before("<span style='border-radius:3;margin-right:-50px;background-color:rgba(32,186,24,0.5)' title='"+
JSON.stringify(a.results_.items_[0].actual)+"'> <span style='color:rgb(255,255,255);font-weight:bold'>PASS</span> </span> ")):(c.indexOf("multi"),$(c).before("<span style='border-radius:3;margin-right:-50px;background-color:rgba(182,24,32,0.5)' title='"+JSON.stringify(a.results_.items_[0].actual)+"'> <span style='color:rgb(255,255,255);font-weight:bold'>FAIL</span> </span> "))};jasmine.FormlReporter.prototype.log=function(){};jasmine.FormlReporter.prototype.getLocation=function(){return this.document.location};
jasmine.FormlReporter.prototype.specFilter=function(a){for(var b={},c=this.getLocation().search.substring(1).split("&"),d=0;d<c.length;d++){var e=c[d].split("=");b[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return!b.spec?!0:0===a.getFullName().indexOf(b.spec)}})(); var q=null;window.PR_SHOULD_USE_CONTINUATION=!0;
(function(){function L(a){function m(a){var f=a.charCodeAt(0);if(f!==92)return f;var b=a.charAt(1);return(f=r[b])?f:"0"<=b&&b<="7"?parseInt(a.substring(1),8):b==="u"||b==="x"?parseInt(a.substring(2),16):a.charCodeAt(1)}function e(a){if(a<32)return(a<16?"\\x0":"\\x")+a.toString(16);a=String.fromCharCode(a);if(a==="\\"||a==="-"||a==="["||a==="]")a="\\"+a;return a}function h(a){for(var f=a.substring(1,a.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),a=
[],b=[],o=f[0]==="^",c=o?1:0,i=f.length;c<i;++c){var j=f[c];if(/\\[bdsw]/i.test(j))a.push(j);else{var j=m(j),d;c+2<i&&"-"===f[c+1]?(d=m(f[c+2]),c+=2):d=j;b.push([j,d]);d<65||j>122||(d<65||j>90||b.push([Math.max(65,j)|32,Math.min(d,90)|32]),d<97||j>122||b.push([Math.max(97,j)&-33,Math.min(d,122)&-33]))}}b.sort(function(a,f){return a[0]-f[0]||f[1]-a[1]});f=[];j=[NaN,NaN];for(c=0;c<b.length;++c)i=b[c],i[0]<=j[1]+1?j[1]=Math.max(j[1],i[1]):f.push(j=i);b=["["];o&&b.push("^");b.push.apply(b,a);for(c=0;c<
f.length;++c)i=f[c],b.push(e(i[0])),i[1]>i[0]&&(i[1]+1>i[0]&&b.push("-"),b.push(e(i[1])));b.push("]");return b.join("")}function y(a){for(var f=a.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),b=f.length,d=[],c=0,i=0;c<b;++c){var j=f[c];j==="("?++i:"\\"===j.charAt(0)&&(j=+j.substring(1))&&j<=i&&(d[j]=-1)}for(c=1;c<d.length;++c)-1===d[c]&&(d[c]=++t);for(i=c=0;c<b;++c)j=f[c],j==="("?(++i,d[i]===void 0&&(f[c]="(?:")):"\\"===j.charAt(0)&&
(j=+j.substring(1))&&j<=i&&(f[c]="\\"+d[i]);for(i=c=0;c<b;++c)"^"===f[c]&&"^"!==f[c+1]&&(f[c]="");if(a.ignoreCase&&s)for(c=0;c<b;++c)j=f[c],a=j.charAt(0),j.length>=2&&a==="["?f[c]=h(j):a!=="\\"&&(f[c]=j.replace(/[A-Za-z]/g,function(a){a=a.charCodeAt(0);return"["+String.fromCharCode(a&-33,a|32)+"]"}));return f.join("")}for(var t=0,s=!1,l=!1,p=0,d=a.length;p<d;++p){var g=a[p];if(g.ignoreCase)l=!0;else if(/[a-z]/i.test(g.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){s=!0;l=!1;break}}for(var r=
{b:8,t:9,n:10,v:11,f:12,r:13},n=[],p=0,d=a.length;p<d;++p){g=a[p];if(g.global||g.multiline)throw Error(""+g);n.push("(?:"+y(g)+")")}return RegExp(n.join("|"),l?"gi":"g")}function M(a){function m(a){switch(a.nodeType){case 1:if(e.test(a.className))break;for(var g=a.firstChild;g;g=g.nextSibling)m(g);g=a.nodeName;if("BR"===g||"LI"===g)h[s]="\n",t[s<<1]=y++,t[s++<<1|1]=a;break;case 3:case 4:g=a.nodeValue,g.length&&(g=p?g.replace(/\r\n?/g,"\n"):g.replace(/[\t\n\r ]+/g," "),h[s]=g,t[s<<1]=y,y+=g.length,
t[s++<<1|1]=a)}}var e=/(?:^|\s)nocode(?:\s|$)/,h=[],y=0,t=[],s=0,l;a.currentStyle?l=a.currentStyle.whiteSpace:window.getComputedStyle&&(l=document.defaultView.getComputedStyle(a,q).getPropertyValue("white-space"));var p=l&&"pre"===l.substring(0,3);m(a);return{a:h.join("").replace(/\n$/,""),c:t}}function B(a,m,e,h){m&&(a={a:m,d:a},e(a),h.push.apply(h,a.e))}function x(a,m){function e(a){for(var l=a.d,p=[l,"pln"],d=0,g=a.a.match(y)||[],r={},n=0,z=g.length;n<z;++n){var f=g[n],b=r[f],o=void 0,c;if(typeof b===
"string")c=!1;else{var i=h[f.charAt(0)];if(i)o=f.match(i[1]),b=i[0];else{for(c=0;c<t;++c)if(i=m[c],o=f.match(i[1])){b=i[0];break}o||(b="pln")}if((c=b.length>=5&&"lang-"===b.substring(0,5))&&!(o&&typeof o[1]==="string"))c=!1,b="src";c||(r[f]=b)}i=d;d+=f.length;if(c){c=o[1];var j=f.indexOf(c),k=j+c.length;o[2]&&(k=f.length-o[2].length,j=k-c.length);b=b.substring(5);B(l+i,f.substring(0,j),e,p);B(l+i+j,c,C(b,c),p);B(l+i+k,f.substring(k),e,p)}else p.push(l+i,b)}a.e=p}var h={},y;(function(){for(var e=a.concat(m),
l=[],p={},d=0,g=e.length;d<g;++d){var r=e[d],n=r[3];if(n)for(var k=n.length;--k>=0;)h[n.charAt(k)]=r;r=r[1];n=""+r;p.hasOwnProperty(n)||(l.push(r),p[n]=q)}l.push(/[\S\s]/);y=L(l)})();var t=m.length;return e}function u(a){var m=[],e=[];a.tripleQuotedStrings?m.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,q,"'\""]):a.multiLineStrings?m.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,
q,"'\"`"]):m.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,q,"\"'"]);a.verbatimStrings&&e.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,q]);var h=a.hashComments;h&&(a.cStyleComments?(h>1?m.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,q,"#"]):m.push(["com",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\n\r]*)/,q,"#"]),e.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,q])):m.push(["com",/^#[^\n\r]*/,
q,"#"]));a.cStyleComments&&(e.push(["com",/^\/\/[^\n\r]*/,q]),e.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,q]));a.regexLiterals&&e.push(["lang-regex",/^(?:^^\.?|[!+-]|!=|!==|#|%|%=|&|&&|&&=|&=|\(|\*|\*=|\+=|,|-=|->|\/|\/=|:|::|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|[?@[^]|\^=|\^\^|\^\^=|{|\||\|=|\|\||\|\|=|~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\s*(\/(?=[^*/])(?:[^/[\\]|\\[\S\s]|\[(?:[^\\\]]|\\[\S\s])*(?:]|$))+\/)/]);(h=a.types)&&e.push(["typ",h]);a=(""+a.keywords).replace(/^ | $/g,
"");a.length&&e.push(["kwd",RegExp("^(?:"+a.replace(/[\s,]+/g,"|")+")\\b"),q]);m.push(["pln",/^\s+/,q," \r\n\t\xa0"]);e.push(["lit",/^@[$_a-z][\w$@]*/i,q],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,q],["pln",/^[$_a-z][\w$@]*/i,q],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,q,"0123456789"],["pln",/^\\[\S\s]?/,q],["pun",/^.[^\s\w"-$'./@\\`]*/,q]);return x(m,e)}function D(a,m){function e(a){switch(a.nodeType){case 1:if(k.test(a.className))break;if("BR"===a.nodeName)h(a),
a.parentNode&&a.parentNode.removeChild(a);else for(a=a.firstChild;a;a=a.nextSibling)e(a);break;case 3:case 4:if(p){var b=a.nodeValue,d=b.match(t);if(d){var c=b.substring(0,d.index);a.nodeValue=c;(b=b.substring(d.index+d[0].length))&&a.parentNode.insertBefore(s.createTextNode(b),a.nextSibling);h(a);c||a.parentNode.removeChild(a)}}}}function h(a){function b(a,d){var e=d?a.cloneNode(!1):a,f=a.parentNode;if(f){var f=b(f,1),g=a.nextSibling;f.appendChild(e);for(var h=g;h;h=g)g=h.nextSibling,f.appendChild(h)}return e}
for(;!a.nextSibling;)if(a=a.parentNode,!a)return;for(var a=b(a.nextSibling,0),e;(e=a.parentNode)&&e.nodeType===1;)a=e;d.push(a)}var k=/(?:^|\s)nocode(?:\s|$)/,t=/\r\n?|\n/,s=a.ownerDocument,l;a.currentStyle?l=a.currentStyle.whiteSpace:window.getComputedStyle&&(l=s.defaultView.getComputedStyle(a,q).getPropertyValue("white-space"));var p=l&&"pre"===l.substring(0,3);for(l=s.createElement("LI");a.firstChild;)l.appendChild(a.firstChild);for(var d=[l],g=0;g<d.length;++g)e(d[g]);m===(m|0)&&d[0].setAttribute("value",
m);var r=s.createElement("OL");r.className="linenums";for(var n=Math.max(0,m-1|0)||0,g=0,z=d.length;g<z;++g)l=d[g],l.className="L"+(g+n)%10,l.firstChild||l.appendChild(s.createTextNode("\xa0")),r.appendChild(l);a.appendChild(r)}function k(a,m){for(var e=m.length;--e>=0;){var h=m[e];A.hasOwnProperty(h)?window.console&&console.warn("cannot override language handler %s",h):A[h]=a}}function C(a,m){if(!a||!A.hasOwnProperty(a))a=/^\s*</.test(m)?"default-markup":"default-code";return A[a]}function E(a){var m=
a.g;try{var e=M(a.h),h=e.a;a.a=h;a.c=e.c;a.d=0;C(m,h)(a);var k=/\bMSIE\b/.test(navigator.userAgent),m=/\n/g,t=a.a,s=t.length,e=0,l=a.c,p=l.length,h=0,d=a.e,g=d.length,a=0;d[g]=s;var r,n;for(n=r=0;n<g;)d[n]!==d[n+2]?(d[r++]=d[n++],d[r++]=d[n++]):n+=2;g=r;for(n=r=0;n<g;){for(var z=d[n],f=d[n+1],b=n+2;b+2<=g&&d[b+1]===f;)b+=2;d[r++]=z;d[r++]=f;n=b}for(d.length=r;h<p;){var o=l[h+2]||s,c=d[a+2]||s,b=Math.min(o,c),i=l[h+1],j;if(i.nodeType!==1&&(j=t.substring(e,b))){k&&(j=j.replace(m,"\r"));i.nodeValue=
j;var u=i.ownerDocument,v=u.createElement("SPAN");v.className=d[a+1];var x=i.parentNode;x.replaceChild(v,i);v.appendChild(i);e<o&&(l[h+1]=i=u.createTextNode(t.substring(b,o)),x.insertBefore(i,v.nextSibling))}e=b;e>=o&&(h+=2);e>=c&&(a+=2)}}catch(w){"console"in window&&console.log(w&&w.stack?w.stack:w)}}var v=["break,continue,do,else,for,if,return,while"],w=[[v,"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],
"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],F=[w,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],G=[w,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"],
H=[G,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"],w=[w,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],I=[v,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],
J=[v,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],v=[v,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],K=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/,N=/\S/,O=u({keywords:[F,H,w,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END"+
I,J,v],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),A={};k(O,["default-code"]);k(x([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),
["default-markup","htm","html","mxml","xhtml","xml","xsl"]);k(x([["pln",/^\s+/,q," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,q,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",
/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]);k(x([],[["atv",/^[\S\s]+/]]),["uq.val"]);k(u({keywords:F,hashComments:!0,cStyleComments:!0,types:K}),["c","cc","cpp","cxx","cyc","m"]);k(u({keywords:"null,true,false"}),["json"]);k(u({keywords:H,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:K}),["cs"]);k(u({keywords:G,cStyleComments:!0}),["java"]);k(u({keywords:v,hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]);k(u({keywords:I,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),
["cv","py"]);k(u({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]);k(u({keywords:J,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]);k(u({keywords:w,cStyleComments:!0,regexLiterals:!0}),["js"]);k(u({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes",
hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]);k(x([],[["str",/^[\S\s]+/]]),["regex"]);window.prettyPrintOne=function(a,m,e){var h=document.createElement("PRE");h.innerHTML=a;e&&D(h,e);E({g:m,i:e,h:h});return h.innerHTML};window.prettyPrint=function(a){function m(){for(var e=window.PR_SHOULD_USE_CONTINUATION?l.now()+250:Infinity;p<h.length&&l.now()<e;p++){var n=h[p],k=n.className;if(k.indexOf("prettyprint")>=0){var k=k.match(g),f,b;if(b=
!k){b=n;for(var o=void 0,c=b.firstChild;c;c=c.nextSibling)var i=c.nodeType,o=i===1?o?b:c:i===3?N.test(c.nodeValue)?b:o:o;b=(f=o===b?void 0:o)&&"CODE"===f.tagName}b&&(k=f.className.match(g));k&&(k=k[1]);b=!1;for(o=n.parentNode;o;o=o.parentNode)if((o.tagName==="pre"||o.tagName==="code"||o.tagName==="xmp")&&o.className&&o.className.indexOf("prettyprint")>=0){b=!0;break}b||((b=(b=n.className.match(/\blinenums\b(?::(\d+))?/))?b[1]&&b[1].length?+b[1]:!0:!1)&&D(n,b),d={g:k,h:n,i:b},E(d))}}p<h.length?setTimeout(m,
250):a&&a()}for(var e=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],h=[],k=0;k<e.length;++k)for(var t=0,s=e[k].length;t<s;++t)h.push(e[k][t]);var e=q,l=Date;l.now||(l={now:function(){return+new Date}});var p=0,d,g=/\blang(?:uage)?-([\w.]+)(?!\S)/;m()};window.PR={createSimpleLexer:x,registerLangHandler:k,sourceDecorator:u,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",
PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ"}})();
PR.registerLangHandler(PR.createSimpleLexer([[PR.PR_PLAIN,/^[\t\n\x0B\x0C\r ]+/,null,"\t\n\x0B\f\r "],[PR.PR_STRING,/^\"(?:[^\"\\\n\x0C\r]|\\[\s\S])*(?:\"|$)/,null,'"'],[PR.PR_LITERAL,/^(?:0o[0-7]+|0x[\da-f]+|\d+(?:\.\d+)?(?:e[+\-]?\d+)?)/i,null,"0123456789"]],[[PR.PR_COMMENT,/^(?:(?:--+(?:[^\r\n\x0C]*)?)|(?:\{-(?:[^-]|-+[^-\}])*-\}))/],[PR.PR_KEYWORD,/^(?:yield|lazy|inline|private|open|class|data|default|deriving|do|else|if|import|in|infix|infixl|infixr|instance|let|module|newtype|of|then|when|with|type|where|_)(?=[^a-zA-Z0-9\']|$)/,
null],[PR.PR_PLAIN,/^(?:[A-Z][\w\']*\.)*[a-zA-Z][\w\']*/],[PR.PR_PUNCTUATION,/^[^\t\n\x0B\x0C\r a-zA-Z0-9\'\"]+/]]),["hs"]);</script>
    <script>var f=void 0,j=!0;function k(){return function(h){return h}}function l(){return function(){}}var m;m=function(h){return h instanceof Array};var q;q=function(h){return h()};var x;x=function(h){throw h;};var B;B=function(){x("Pattern Match Exhausted")};var E;E=function(h,i){return h.hasOwnProperty(i)};var F;
F=new function(){function h(a){return function(b){return function(c){return a(b(c))}}}function i(a){return 0===a?0:1===a?1:i(a-1)+i(a-2)}function p(a){return function(b){return 0===a?l():function(){b();return p(a-1)(b)()}}}function d(a){return function(b){var c=a,g;if(c===b)return j;c=a;g=b;if("object"===typeof c){var s=j,e;for(e in c)s=s&&g.hasOwnProperty(e)&&d(c[e])(g[e]);c=Object.keys(c).length===Object.keys(g).length;return s&&c}c=a;g=b;if(m(c)){e=j;for(s in c)e=e&&d(c[s])(g[s]);return e&&c.length==
g.length}return!1}}this.not=function(a){return!a};this.object_=function(a){return"object"===typeof a};this.array_=m;this._eq_eq=d;this._bang_eq=function(a){return function(b){return!d(a)(b)}};this._perc=function(a){return function(b){return a%b}};this._and_and=function(a){return function(b){return a&&b}};this._star=function(a){return function(b){return a*b}};this._plus=function(a){return function(b){return a+b}};this._minu=function(a){return function(b){return a-b}};this._forw=function(a){return function(b){return a/
b}};this._forw_eq=function(a){return function(b){return!d(a)(b)}};this._less=function(a){return function(b){return a<b}};this._less_eq=function(a){return function(b){return a<=b}};this._grea=function(a){return function(b){return a>b}};this._grea_eq=function(a){return function(b){return a>=b}};this._grea_grea=function(a){return function(b){return function(){a();return b()}}};this._grea_grea_eq=function(a){return function(b){return function(){return b(a())()}}};this._exp=function(a){return function(b){return Math.pow(a,
b)}};this.cast=k();this.clone=function(a){return m(a)?function(){return $.extend(j,[],a)}:function(){return $.extend(j,{},a)}};this.do_times=p;this.fib=i;this.fmap=function(a){return function(b){return function(){var c=b();return a(c)}}};this.log=function(a){return function(){return console.log(a)}};this.num_=function(a){return"number"==typeof a};this.rand=function(a){return function(){return Math.floor(Math.random()*a)}};this._return_=function(a){return function(){return a}};this.string_=function(a){return"string"===
typeof a};this.type_=function(a){return typeof a};this._or_or=function(a){return function(b){return a||b}};this.$speedtest=new function(){function a(b){return 0===b?0:1===b?1:a(b-1)+a(b-2)}this.fast_fib=a;this.floor=Math.floor;this.get_time=function(){return(new Date).getTime()};this.time=function(a){return function(){var c=(new Date).getTime();a();return(new Date).getTime()-c}}};this._apos=function(a){return function(b){return b(a)}};this._comp_col=h;this._less_col=function(a){return function(b){return a(b)}};
this._less_or=function(a){return function(b){return a(b)}};this.flip=function(a){return function(b){return function(c){return a(c)(b)}}};this.id=k();this.ignore=function(a){return function(){a();return{}}};this._or_grea=function(a){return function(b){return b(a)}};this.$string=new function(){this._plus_plus_plus=function(a){return function(b){return""+a+b}};this.concat=function(a){return a.join("")};this.length=function(a){return a.length};this.lstrip=function(a){return a.replace(/^\s+/,"")};this.regex=
function(a){return function(b){return RegExp(a,b)}};this.replace=function(a){return function(b){return function(c){return c.replace(a,b)}}};this.rstrip=function(a){return a.replace(/\s+$/,"")};this.strip=h(function(a){return a.replace(/^\s+/,"")})(function(a){return a.replace(/\s+$/,"")});this.to_string=function(a){return a+""}};this.err=function(a){var b;try{a(),b=!1}catch(c){b=c}return b};this.$option=new function(){this.option=function(a){return function(b){if(E(b,"none"))return a;var c=b.some;
if(E(b,"some"))return c;B()}}};this.$html=new function(){function a(a){return function(b){return function(){return $(b.element).append($(a.element).detach())}}}function b(a){return function(){var b=$(a).get(0);return{add_class:function(a){return function(){return b.setAttribute("class",b.getAttribute("class")+" "+a)}},add_style:function(a){return function(g){return function(){b.style[a]=g}}},element:b,inner:function(){return b.innerHTML},on_click:function(a){return function(){b.onclick=a}},set:function(a){return function(){b.innerHTML=
a}}}}}function c(a){return function(b){return function(){return a.push(b)}}}this._bang_bang=function(a){return function(b){return a[b]}};this.$_plus=function(a){return function(b){return function(){return $(a).append(b)}}};this.$_comp=function(a){return function(b){return function(){return $(a).addClass(b)}}};this.$_eq=function(a){return function(b){return function(){if("undefined"!=typeof $){var g=$(a).get(0);"undefined"!=typeof g&&(g.innerHTML=b)}}}};this.$_or=function(a){return function(b){return function(g){return function(){return $(a).css(b,
g)}}}};this.push=c;var g={failed:0,messages:[],reportRunnerResults:function(){(0<g.failed?function(){return console.log(g.messages)}:function(){return{}})();return console.log(""+(g.total-g.failed)+("/"+g.total+" tests passed"))},reportSpecResults:function(a){var b=a.results().passed();g.total++;(!b?function(){g.failed++;c(g.messages)(a.description)();return{}}:function(){return{}})();return{}},total:0};this.console_reporter=g;this.split=function(a){return function(b){return b.split(a)}};this.stringify=
function(a){return JSON.stringify(a)};var e=0,h={reportRunnerResults:function(){"undefined"!=typeof phantom&&phantom.exit(e)},reportSpecResults:function(a){if(a.results().passed())a=function(){return{}};else var b=a.results_.items_,g=JSON.stringify(b[0].actual),c=a.description.split("__::__")[1],h=JSON.stringify(b[0].expected),i=JSON.stringify(function(a){return a+1}(function(a){return parseInt(a)}(function(a){return a[0]}(function(a){return a[0]}(a.description.split("__::__")).split("_"))))),a=function(){(d(e)(0)?
function(){return console.log("\r                                          ")}:function(){return{}})();e=1;console.log("Test failed at line "+i+("\n\n"+c+("\n\n    Expected "+h+("\n    Actual   "+g+""))));return console.log("")};return a()}};this.console_runner=function(){var a=jasmine.getEnv();a.addReporter(h);return a.execute()};this.div=function(a){return function(){return"<div id='"+a+"'/>"}};this.get=b;this.move=a;this.on_key=function(a){return function(b){return function(){return jQuery(window).keydown(function(g){g.keyCode==
a&&(g.preventDefault(),b())})}}};this.on_load=function(a){return function(){return window.addEventListener("load",a,!1)}};this.table_of_contents=function(){$(".test").css("position","relative");$(".test").css("left","50px");var c=new jasmine.TrivialReporter,d=new jasmine.FormlReporter,e=jasmine.getEnv();e.addReporter(c);e.addReporter(d);e.addReporter(g);e.execute();c=b(".jasmine_reporter")();d=b("#test_suite")();return a(c)(d)()};this.with_page=function(a){return function(){var b=$("body").clone(),
g=a();$("body").replaceWith(b);return g}}};this.$array=new function(){function a(a){return h(function(b){return b.reduce(function(b,c){return a(b)(c)})})(k())}function b(a){return function(d){return(a>d?c(b(d)(a)):function(){for(var b=[],c=a;c<=d;)b.push(c),c++;return b})()}}function c(a){return function(){a.reverse();return a}}this.unbox=k();this.reverse=c;this._comp_comp=b;this.reduce=a;this.all_=a(function(a){return function(b){return a&&b}});this.box=k();this.chain=function(a){return function(b){a(b);
return b}};this.for_each=function(a){return function(b){return function(){for(var c in b)a(parseInt(c))}}};this.get=function(a){return function(b){return b[a]}};this.length=h(function(a){return a.length})(k());this.map=function(a){return h(k())(h(function(b){return b.map(a)})(k()))};this.push_excl=function(a){return function(b){b.push(a);return b}};this.put=function(a){return function(b){return function(){var c=(m(b)?function(){return $.extend(j,[],b)}:function(){return $.extend(j,{},b)})();c.push(a);
return c}}};this.sequence=function(a){return function(){return a.map(q)}};this.set=function(a){return function(b){return function(c){return function(){c[a]=b;return c}}}};this.sum=a(function(a){return function(b){return a+b}});this.times=function(a){return function(c){function d(){return c}var e=a;if(0>e)return[];e=a;return h(k())(h(function(a){return a.map(d)})(k()))(b(0)(e-1))}};this.unshift_excl=function(a){return function(b){b.unshift(a);return b}};this.zip_with=function(a){return function(b){return function(c){var d=
[],e=h(function(a){d.push(a);return d})(h(function(d){return a(d(b))(d(c))})(function(a){return function(b){return b[a]}})),r;for(r in b)e(parseInt(r));return d}}}};var e;this.$list=e=new function(){function a(b){return function(c){var d=c;if(0===b)return{nil:j};d=c;return{head:u(d),tail:a(b-1)(t(d))}}}function b(a){return E(a,"nil")?{head:{nil:j},tail:{nil:j}}:{head:a,tail:b(t(a))}}function c(a){for(var b=f,c={nil:j};"undefined"==typeof b;){var d=c;if(E(a,"nil"))b=d;else{var d=c,e=a.head,g=a.tail;
E(a,"head")&&E(a,"tail")?(c={head:e,tail:d},a=g,b=f):B()}}return b}function d(a){if(E(a,"nil"))return 0;var b=a.tail;if(E(a,"head")&&E(a,"tail"))return 1+d(b);B()}function e(a){if(E(a,"nil"))return{head:{nil:j},tail:{nil:j}};var b=a.head,c=a.tail;if(E(a,"head")&&E(a,"tail"))return C({head:{nil:j},tail:{nil:j}})(r(function(a){return{head:b,tail:a}})(e(c)));B()}function i(a){return function(b){return 0===a?{nil:j}:{head:b,tail:i(a-1)(b)}}}function p(a){return function(b){function c(d){if(E(d,"nil"))return b;
var e=d.head,g=d.tail;if(E(d,"head")&&E(d,"tail"))return a(e)(c(g));B()}return c}}function y(a){return function(b){var c=a;if(E(b,"nil"))return{nil:j};var c=a,d=b;if(c(u(d)))return{head:u(d),tail:y(c)(t(d))};c=a;return y(c)(t(b))}}function r(a){return function(b){var c=a;if(E(b,"nil"))return{nil:j};c=a;return{head:c(u(b)),tail:r(c)(t(b))}}}function v(a){return function(b){return E(b,"nil")?x("Foldl1 called on empty list"):H(a)(u(b))(t(b))}}function t(a){var b=a.tail;if(E(a,"head")&&E(a,"tail"))return b;
if(E(a,"nil"))return x("Tail called on empty list");B()}function u(a){var b=a.head;if(E(a,"head")&&E(a,"tail"))return b;if(E(a,"nil"))return x("Head called on empty list");B()}function H(a){return function(b){return function(c){for(var d=f,e=b;"undefined"==typeof d;){var g=e;if(E(c,"nil"))d=g;else{var g=e,r=c.head,s=c.tail;E(c,"head")&&E(c,"tail")?(e=a(g)(r),c=s,d=f):B()}}return d}}}function C(a){return function(b){var c=b;if(E(a,"nil"))return c;var c=a.head,d=a.tail;if(E(a,"head")&&E(a,"tail"))return{head:c,
tail:C(d)(b)};B()}}this._col_col=function(a){return function(b){return{head:a,tail:b}}};this._plus_plus=C;this._comp_comp=function(a){return function(b){for(var c=f,d={nil:j};"undefined"==typeof c;){var c=b,e=d;c>=a?(b=c-1,d={head:c,tail:e},c=f):c=e=d}return c}};this.foldl=H;this.head=u;this.tail=t;this.foldl1=v;this.map=r;this.all_=function(a){return h(v(function(a){return function(b){return a&&b}}))(r(a))};this.any_=function(a){return h(v(function(a){return function(b){return a||b}}))(r(a))};var J=
v(function(a){return function(b){return C(a)(b)}});this.concat=J;this.concat_map=function(a){return function(b){return J(r(a)(b))}};this.drop=function(a){return function(b){for(var c=f,d=a;"undefined"==typeof c;)c=b,0!==d&&(c=b,d-=1,b=t(c),c=f);return c}};this.drop_while=function(a){return function(b){for(var c=f,d=a;"undefined"==typeof c;)if(c=d,E(b,"nil"))c={nil:j};else{var c=d,e=b;c(u(e))?(d=c,b=t(e),c=f):c=e=b}return c}};this.empty_=function(a){return E(a,"nil")?j:!1};this.filter=y;this.find=
function(a){return function(b){for(var c=f,d=a;"undefined"==typeof c;){var e=d;if(E(b,"nil"))c={none:j};else{var e=d,g=b.head;E(b,"head")&&E(b,"tail")&&e(g)?c={some:g}:(e=d,g=b.tail,E(b,"head")&&E(b,"tail")?(d=e,b=g,c=f):B())}}return c}};this.foldr=p;this.foldr1=function(a){return function(b){return E(b,"nil")?x("Foldr1 called on empty list"):p(a)(u(b))(t(b))}};this.init=i;this.inits=e;this.last=function(a){for(var b=f;"undefined"==typeof b;){var c=a.head;E(a,"head")&&E(a,"tail")&&E(a.tail,"nil")?
b=c:(c=a.tail,E(a,"head")&&E(a,"tail")?(a=c,b=f):E(a,"nil")?b=x("Last called on empty list"):B())}return b};this.length=d;this.maximum=v(function(a){return function(b){return a>b?a:b}});this.minimum=v(function(a){return function(b){return a>b?b:a}});this.partition=function(a){return p(function(b){return function(c){var d=c.head,e=c.tail;if(E(c,"head")&&E(c,"tail"))return c=u(e),a(b)?{head:{head:b,tail:d},tail:{head:c,tail:{nil:j}}}:{head:d,tail:{head:{head:b,tail:c},tail:{nil:j}}};B()}})({head:{nil:j},
tail:{head:{nil:j},tail:{nil:j}}})};this.product=v(function(a){return function(b){return a*b}});this.reverse=c;this.sum=v(function(a){return function(b){return a+b}});this.tails=b;this.take=a;this.take_apos=function(a){return function(b){for(var d=f,e=a,g={nil:j};"undefined"==typeof d;)if(d=g,0!==e)var r=b,d=g,e=e-1,b=t(r),g={head:u(r),tail:d},d=f;return c(d)}};this.take_while=function(a){return function(b){var c=a;if(E(b,"nil"))return{nil:j};c=a;return c(u(b))?{head:u(b),tail:y(c)(t(b))}:{nil:j}}}};
this.$seq=new function(){function a(b){if(E(b,"end"))return{nil:j};var c=b.seq;if(E(b,"seq")){var b=c(),d=b.elem,e=b.next;E(b,"elem")&&E(b,"next")?b=function(){return{head:d,tail:a(e)}}:(B(),b=f);return b()}B()}function b(a){return function(c){return{seq:function(){return{elem:c,next:b(a)(a(c))}}}}}function c(a){if(E(a,"nil"))return{end:j};var b=a.head,d=a.tail;if(E(a,"head")&&E(a,"tail"))return{seq:function(){return{elem:b,next:c(d)}}};B()}function d(a){return function(b){return function(c){if(E(b,
"end")||E(c,"end"))return{end:j};var e=b.seq,s=c.seq;if(E(b,"seq")&&E(c,"seq"))return{seq:function(){var b;b=e();var c=b.elem,i=b.next;E(b,"elem")&&E(b,"next")?b=function(){var b;b=s();var e=b.elem,h=b.next;E(b,"elem")&&E(b,"next")?b=function(){return{elem:a(c)(e),next:d(a)(i)(h)}}:(B(),b=f);return b()}:(B(),b=f);return b()}};B()}}}function s(a){if(E(a,"end"))return{end:j};var b=a.seq;if(E(a,"seq")){var c=f;return{seq:function(){if(!c){var a;a=b();var d=a.elem,e=a.next;E(a,"elem")&&E(a,"next")?a=
function(){return{elem:d,next:s(e)}}:(B(),a=f);c=a()}return c}}}B()}var i=e.tail||("undefined"==typeof global?window:global).tail,h=e.take||("undefined"==typeof global?window:global).take;this.seq=function(a){return{seq:a}};this._col_col_col=function(a){return function(b){return{seq:function(){return{elem:a,next:b()}}}}};this.to_lazy=s;this.zip_with=d;this.tail=i=function(a){if(E(a,"end"))return x("tail called on empty seq");var b=a.seq;if(E(a,"seq"))return b().next;B()};var p=s({seq:function(){return{elem:1,
next:{seq:function(){return{elem:1,next:d(function(a){return function(b){return a+b}})(p)(i(p))}}}}}});this.fibs=p;this.from_list=c;this.iterate=b;this.take=h=function(a){return function(b){if(E(b,"end")||0===a)return{end:j};var c=b.seq;if(E(b,"seq"))return{seq:function(){var b;b=c();var d=b.elem,e=b.next;E(b,"elem")&&E(b,"next")?b=function(){return{elem:d,next:h(a-1)(e)}}:(B(),b=f);return b()}};B()}};this.to_list=a};this.$Forml_Z=new function(){var a=e.map||("undefined"==typeof global?window:global).map,
b=e.concat_map||("undefined"==typeof global?window:global).concat_map;this.bind=function(a){return function(b){var c=a.ret;if(E(a,"ret"))return c(b);B()}};this.js_monad={_grea_grea_eq:function(a){return function(b){return function(){return b(a())()}}},_return_:function(a){return function(){return a}}};var c={map:function(a){return function(b){if(E(b,"nil"))return{nil:j};var d=b.head,e=b.tail;if(E(b,"head")&&E(b,"tail"))return{head:a(d),tail:c.map(a)(e)};B()}}};this.list_functor=c;this.list_monad=
{_grea_grea_eq:function(a){return function(c){return b(c)(a)}},_return_:function(a){return{head:a,tail:{nil:j}}}};this.map=a=function(a){return function(b){return function(c){return a.map(c)(b)}}}}};("undefined"==typeof global?window:global).$prelude=F;
("undefined"==typeof global?window:global).$readme=new function(){function h(d){var e=d.head,a=d.tail;if(E(d,"head")&&E(d,"tail"))return e+h(a);if(E(d,"nil"))return 0;B()}function i(d){return 0===d?0:1===d?1:i(d-1)+i(d-2)}var p=F.fib||("undefined"==typeof global?window:global).fib;this._star_star=function(d){return function(e){for(var a=f,b=d,c=e,e="";"undefined"==typeof a;)if(a=e,0!==c)var g=b,a=e,b=g,c=c-1,e=""+a+g,a=f;return a}};this._plus_star=function(d){return function(e){return 2*d+2*e}};this.add=
function(d){return function(e){return d+e}};this.add_twelve=function(d){return function(e){return d+e+12}};this.fib=p=function(d){return 0===d?0:1===d?1:p(d-1)+p(d-2)};this.fib_apos=i;this.has_value=function(d){return E(d,"just")?j:!1};this.hello_world=function(){console.log("Hello World");return Math.sqrt(9)+1+1};this.sqrt=function(d){return Math.sqrt(d)};this.square=function(d){return d*d};this.magnitude=function(d){var e=d.x,a=d.y;if(E(d,"x")&&E(d,"y"))return Math.sqrt(e*e+a*a);B()};this.map=function(d){return function(e){return e.map(d)}};
this.maybe=function(d){return function(e){var a=d,a=e.just;if(E(e,"just"))return a;a=d;if(E(e,"nothing"))return a;B()}};this.mmap=function(d){return function(e){return function(a){return d.map(e)(a)}}};this.num_or_string=function(d){return"number"==typeof d?"Num":"String"};this.person=function(d){return function(e){return{address:e,message:""+d+(" lives at "+e+""),name:d,say:function(a){return""+d+(" says '"+a+"'")}}}};this.point={x:10,y:10};this.sum=h;this.unwrap=function(d){var e=d.box;if(E(d,"box"))return e;
B()};this.whenever=function(d){return function(e){return d?e:{}}}};
("undefined"==typeof global?window:global).$parsec=new function(){var h=F._eq_eq||("undefined"==typeof global?window:global)._eq_eq;this._star_grea=function(d){return function(e){var a=d.parser,b=e.parser;if(E(d,"parser")&&E(e,"parser"))return{parser:function(c){var c=a(c),d=c.parsed.some,d=c.rest;E(c,"parsed")&&E(c,"rest")&&E(c.parsed,"some")?c=b(d):(d=c.rest,E(c,"parsed")&&E(c,"rest")&&E(c.parsed,"none")?c={parsed:{none:j},rest:d}:(B(),c=f));return c}};B()}};var i;this._less$_grea=i=function(d){return function(e){var a=
e.parser;if(E(e,"parser"))return{parser:function(b){var b=a(b),c=b.parsed.some,e=b.rest;E(b,"parsed")&&E(b,"rest")&&E(b.parsed,"some")?b={parsed:{some:d(c)},rest:e}:(c=b.rest,E(b,"parsed")&&E(b,"rest")&&E(b.parsed,"none")?b={parsed:{none:j},rest:c}:(B(),b=f));return b}};B()}};this._less_star_grea=function(d){return function(e){var a=d.parser,b=e.parser;if(E(d,"parser")&&E(e,"parser"))return{parser:function(c){var d=a(c),c=d.parsed.some,e=d.rest;if(E(d,"parsed")&&E(d,"rest")&&E(d.parsed,"some")){var d=
b(e),e=d.parsed.some,i=d.rest;E(d,"parsed")&&E(d,"rest")&&E(d.parsed,"some")?c={parsed:{some:c(e)},rest:i}:(e=d.rest,E(d,"parsed")&&E(d,"rest")&&E(d.parsed,"none")?c={parsed:{none:j},rest:e}:(B(),c=f))}else c=d.rest,E(d,"parsed")&&E(d,"rest")&&E(d.parsed,"none")?c={parsed:{none:j},rest:c}:(B(),c=f);return c}};B()}};this._less_or_grea=function(d){return function(e){var a=d.parser,b=e.parser;if(E(d,"parser")&&E(e,"parser"))return{parser:function(c){var d=a(c),e=d.rest;return E(d,"parsed")&&E(d,"rest")&&
E(d.parsed,"none")&&h(c)(e)?b(c):d}};B()}};this.lift=function(d){return function(e){var a=e.parser;if(E(e,"parser"))return{parser:function(b){var c=a(b);return d({f:a,f_apos:c,parsed:c.parsed,rest:c.rest,text:b})}};B()}};var p;this.many=p=function(d){var e=d.parser;if(E(d,"parser"))return{parser:function(a){var b=e(a);var c=a={f:e,f_apos:b,parsed:b.parsed,rest:b.rest,text:a};E(a,"parsed")&&E(a.parsed,"none")?a={parsed:{some:[]},rest:c.rest}:(c=a.parsed.some,E(a,"parsed")&&E(a.parsed,"some")?a=i(function(a){a.push(c);
return a})(p({parser:a.f})).parser(a.rest):(B(),a=f));return a}};B()};this.run_parser=function(d){return function(e){var a=d.parser;if(E(d,"parser"))return e=a(e),a=e.parsed.some,E(e,"parsed")&&E(e.parsed,"some")?{some:a}:{none:j};B()}};this.string=function(d){return{parser:function(e){var a=e.substring(0,d.length);return h(a)(d)?{parsed:{some:d},rest:e.substring(d.length)}:{parsed:{none:j},rest:e}}}};this.try_apos=function(d){var e=d.parser;if(E(d,"parser"))return{parser:function(a){var b=e(a);a=
{f:e,f_apos:b,parsed:b.parsed,rest:b.rest,text:a};a=E(a,"parsed")&&E(a.parsed,"none")?{parsed:{none:j},rest:a.text}:a.f_apos;return a}};B()};this.$Testing=new (l())};
("undefined"==typeof global?window:global).$Benchmarks_for_the_prelude=new function(){function h(a){for(var b=f;"undefined"==typeof b;)if(b=a,3>b)b=0;else{var b=a,c=f;i(b%3)(0)||i(b%5)(0)?c=1+h(b-1):(a=b-1,c=f);b=c}return b}var i=F._eq_eq||("undefined"==typeof global?window:global)._eq_eq,p=F.$list._comp_comp||("undefined"==typeof global?window:global)._comp_comp,d=F.$list.filter||("undefined"==typeof global?window:global).filter,e=F.$list.sum||("undefined"==typeof global?window:global).sum;this.euler_1=
function(a){return function(){for(var b=0,c=1;c<a;){if(0==c%3||0==c%5)b+=c;c++}return b}};this.euler_2=function(a){return function(b){for(var c=f,d=a;"undefined"==typeof c;){var c=d,e=b;3>c?c=e:(c=d,e=b,i(c%3)(0)||i(c%5)(0)?(d=c-1,b=e+1):(c=d,e=b,d=c-1,b=e),c=f)}return c}};this.euler_3=h;this.euler_4=function(a){return function(){return e(d(function(a){return i(a%3)(0)||i(a%5)(0)})(p(1)(a)))}};this.euler_5=function(a){return function(b){for(var c=f,d=a;"undefined"==typeof c;){var c=d,e=b;3>c?c=e:
(c=d,e=b,0==c%3||0==c%5?(d=c-1,b=e+1):(c=d,e=b,d=c-1,b=e),c=f)}return c}};this.title=function(a){return function(){console.log("\r                                  ");console.log(a);return j}}};("undefined"==typeof global?window:global).$Tests_for_partial_records=new (l());var N;
N=new function(){this.rev_1=function(i){for(var h=f,d={nil:j};"undefined"==typeof h;){var e=d;if(E(i,"nil"))h=e;else{var e=d,a=i.head,b=i.tail;E(i,"head")&&E(i,"tail")?(d={head:a,tail:e},i=b,h=f):B()}}return h};var h={nil:j};this.rev_2=function(i){for(var p=f,d=h;"undefined"==typeof p;){var e=d;if(E(i,"nil"))p=e;else{var e=d,a=i.head,b=i.tail;E(i,"head")&&E(i,"tail")?(d={head:a,tail:e},i=b,p=f):B()}}return p};this.test_x={head:1,tail:{head:2,tail:{head:3,tail:{head:4,tail:{head:5,tail:{head:6,tail:{head:7,
tail:{nil:j}}}}}}}}};("undefined"==typeof global?window:global).$Tests_for_TCO_bugs=N;("undefined"==typeof global?window:global).$Tests_for_typing_bugs=new function(){function h(h){return i(h)-1}function i(i){return h(i)+1}this.ff=i;this.gg=h};("undefined"==typeof global?window:global).$Tests_for_parser_bugs=new (l());
("undefined"==typeof global?window:global).$Test_that_definition_names_dont_collide_with_namespaces=new function(){this.$nametest=new function(){this.x=1};this.nametest={};this.$Seperator=new (l())};var O;
O=new function(){function h(a){return function(){var b=a.piece,c=i(a.piece)();a.piece=c;return(r(a)?function(){if("undefined"!=typeof $){var b=$("#board").get(0);"undefined"!=typeof b&&(b.innerHTML=G(a))}}:function(){a.piece=b})()}}function i(a){function b(a){return function(c){return function(d){return function(e){return d<n(function(a){return a.length})(k())(c)?function(){var w=(m(a)?function(){return $.extend(j,[],a)}:function(){return $.extend(j,{},a)})();w.push(c[d][e]);return b(w)(c)(d+1)(e)()}:
function(){return P(a)()}}}}}return function(){var c=b([])(a)(0);return n(k())(n(function(a){return a.map(c)})(k()))(A(0)(n(function(a){return a.length})(k())(a[0])-1)).map(q)}}function p(){var a=y(0)();return{board:M(20)(function(){return M(10)(-1)}).map(q),level:1,piece:a,score:0,timer:0,x:3,y:0}}function d(){return jQuery("#game").html()}function e(b){return function(c){return function(){function d(a){return function(){for(var c in b.board[a]){var d=parseInt(c);b.board[a][d]=b.board[a-1][d]}}}
b.score+=100;(z(b.score%1E3)(0)?function(){b.level+=1}:function(){return{}})();a(b)();n(k())(n(function(a){return a.map(d)})(k()))(A(c)(1)).map(q);return{}}}}function a(a){return function(){if("undefined"!=typeof $){var c=$("#score").get(0);"undefined"!=typeof c&&(c.innerHTML=t(a.score))}"undefined"!=typeof $&&(c=$("#level").get(0),"undefined"!=typeof c&&(c.innerHTML=a.level));$("#board").css("background-color",D[a.level-1][0]);$("#board").css("border-color",D[a.level-1][1]);v(a)();c=s(400*Math.pow(0.7,
a.level))(b(a))();return g(c)(a)()}}function b(a){return function(){a.y+=1;(!r(a)?function(){a.y-=1;L(a)();return c(a)()}:function(){return{}})();if("undefined"!=typeof $){var b=$("#board").get(0);"undefined"!=typeof b&&(b.innerHTML=G(a))}}}function c(a){return function(){for(var b in a.board)(function(b){function c(a){return!z(a)(-1)}var d=Q(function(a){return function(b){return a&&b}}),h;h=n(k())(n(function(a){return a.map(c)})(k()));return(d(h(a.board[b]))?e(a)(b):function(){return{}})()})(parseInt(b))}}
function g(a){return function(b){return function(){b.timer=a}}}function s(a){return function(b){return function(){return setInterval(b,a)}}}function G(a){var b=a.board,c=a.level,d=a.piece,e=a.x,h=a.y;if(E(a,"board")&&E(a,"level")&&E(a,"piece")&&E(a,"x")&&E(a,"y")){var g=function(a){return function(i){var g=a,w=i;if(!z(b[w][g])(-1))return"<div style='"+("top:"+30*w+("px;\nleft:"+30*g+("px;\nbackground-color:"+D[c-1][2+b[w][g]]+";")))+"' class='cell'></div>";g=a;w=i;return 0<=g-e&&g-e<n(function(a){return a.length})(k())(d[0])&&
0<=w-h&&w-h<n(function(a){return a.length})(k())(d)&&!z(d[w-h][g-e])(-1)?"<div style='"+("top:"+30*w+("px;\nleft:"+30*g+("px;\nbackground-color:"+D[c-1][d[w-h][g-e]+2]+";")))+"' class='cell'></div>":""}},i=[],a=n(function(a){i.push(a);return i})(n(function(a){function b(){return A(0)(9)}var c=a(A(0)(19)),d=n(u)(n(n(k())(n(function(a){return a.map(function(a){return a(c)})})(k())))(n(k())(n(function(a){return a.map(g)})(k())))),e;e=n(k())(n(function(a){return a.map(b)})(k()));return d(a(e(A(0)(19))))})(function(a){return function(b){return b[a]}})),
p;for(p in A(0)(19))a(parseInt(p));return u(i)}B()}function L(a){return function(){for(var b in a.piece)(function(b){for(var c in a.piece[b])(function(c){return(!z(a.piece[b][c])(-1)&&20>=a.y+b&&10>=a.x+c?function(){a.board[a.y+b][a.x+c]=a.piece[b][c]}:function(){return{}})()})(parseInt(c))})(parseInt(b));b=y(a.level-1)();a.piece=b;a.x=3;a.y=0}}function y(a){return function(){var b=Math.floor(Math.random()*n(function(a){return a.length})(k())(K)),c=Math.floor(Math.random()*(n(function(a){return a.length})(k())(D[a])-
2)),b=K[b],d=n(k())(n(function(a){return a.map(function(a){return 0===a?c:-1})})(k()));return n(k())(n(function(a){return a.map(d)})(k()))(b)}}function r(a){var b=a.board,c=a.piece,d=a.x,e=a.y;if(E(a,"board")&&E(a,"piece")&&E(a,"x")&&E(a,"y")){var g=function(a){return function(b){var c;c=n(k())(n(function(b){return b.map(a)})(k()));return R(c(A(0)(b-1)))}};return 0<=d&&10>=d+n(function(a){return a.length})(k())(c[0])&&20>=e+n(function(a){return a.length})(k())(c)&&g(function(a){return g(function(g){var h=
!z(b[e+a][d+g])(-1);return!(!z(c[a][g])(-1)&&h)})(n(function(a){return a.length})(k())(c[a]))})(n(function(a){return a.length})(k())(c))}B()}function v(a){var b=a.timer;if(E(a,"timer"))return function(){return clearInterval(b)};B()}function t(a){return C(H("(\\d)(?=(\\d\\d\\d)+(?!\\d))")("g"))("$1,")(J(a))}var u=F.$string.concat||("undefined"==typeof global?window:global).concat,H=F.$string.regex||("undefined"==typeof global?window:global).regex,C=F.$string.replace||("undefined"==typeof global?window:
global).replace,J=F.$string.to_string||("undefined"==typeof global?window:global).to_string,z=F._eq_eq||("undefined"==typeof global?window:global)._eq_eq,n=F._comp_col||("undefined"==typeof global?window:global)._comp_col,I=F.$html.move||("undefined"==typeof global?window:global).move,P=F.$array.reverse||("undefined"==typeof global?window:global).reverse,A=F.$array._comp_comp||("undefined"==typeof global?window:global)._comp_comp,Q=F.$array.reduce||("undefined"==typeof global?window:global).reduce,
R=F.$array.all_||("undefined"==typeof global?window:global).all_,M=F.$array.times||("undefined"==typeof global?window:global).times;this.at=function(a){return function(b){return function(c){return!z(c[b][a])(-1)}}};this.block_string=function(a){return function(b){return function(c){return"<div style='"+("top:"+30*b+("px;\nleft:"+30*a+("px;\nbackground-color:"+c+";")))+"' class='cell'></div>"}}};this.to_commas=t;var D=[["#0C3555","#08789E","#76F61E","#F7D909","#E11E6A"],["#320010","#74220F","#B8A04E",
"#E1D46C","#80611D"],["#542437","#53777A","#C02942","#D95B43","#53777A"]];this.colors=D;this.stop_timer=v;this.n_columns=9;this.n_rows=19;this.is_valid=r;this.paint=function(a){return function(b){return function(c){return function(d){return function(){a.board[b][c]=d}}}}};var K;this.pieces=K=[[[0],[0],[0],[0]],[[0,-1],[0,-1],[0,0]],[[-1,0],[-1,0],[0,0]],[[0,0],[0,0]],[[-1,0,-1],[0,0,0]],[[0,0,-1],[-1,0,0]],[[-1,0,0],[0,0,-1]]];this.random_piece=y;this.new_piece=L;this.draw=G;this.every=s;this.set_timer=
g;this.clear_lines=c;this.tick=b;this.draw_board=a;this.clear_row=e;this.game_template=d;this.move=I=function(a){return function(b){return function(c){return function(){c.x+=a;c.y+=b;(r(c)?function(){if("undefined"!=typeof $){var a=$("#board").get(0);"undefined"!=typeof a&&(a.innerHTML=G(c))}}:function(){c.x-=a;c.y-=b})();return c}}}};this.new_board=p;this.rotate=i;this.rot=h;this.play=function(){var b=d(),c=p();$("body").append(b);a(c)();jQuery(window).keydown(function(a){37==a.keyCode&&(a.preventDefault(),
I(-1)(0)(c)())});jQuery(window).keydown(function(a){38==a.keyCode&&(a.preventDefault(),h(c)())});jQuery(window).keydown(function(a){39==a.keyCode&&(a.preventDefault(),I(1)(0)(c)())});return jQuery(window).keydown(function(a){40==a.keyCode&&(a.preventDefault(),I(0)(1)(c)())})};this.with_board=function(a){var b=p(),a=a(b);v(b)();return a}};("undefined"==typeof global?window:global).$tetris=O;
 var is_array;is_array=function(b){return b instanceof Array};var __undefined__;__undefined__="undefined";var run;run=function(b){return b()};var error;error=function(b){throw b;};var exhaust;exhaust=function(){error("Pattern Match Exhausted")};var __check;__check=function(b,e){return b.hasOwnProperty(e)};
describe("",function(){describe("readme",function(){var b=$readme._star_star,e=$readme._plus_star,n=$readme.add_twelve,d=$readme.fib,h=$readme.fib_apos,i=$readme.has_value,p=$readme.hello_world,j=$readme.magnitude,f=$readme.map,k=$readme.maybe,q=$readme.mmap,c=$readme.person,l=$readme.point,m=$readme.sum,g=$prelude._eq_eq||("undefined"==typeof global?window:global)._eq_eq,d=$prelude.fib||("undefined"==typeof global?window:global).fib,s=$prelude.$string.length||("undefined"==typeof global?window:global).length,
r=("undefined"==typeof global?window:global).$prelude.$array,b=$readme._star_star,e=$readme._plus_star,n=$readme.add_twelve,d=$readme.fib,h=$readme.fib_apos,i=$readme.has_value,p=$readme.hello_world,j=$readme.magnitude,f=$readme.map,k=$readme.maybe,q=$readme.mmap,c=$readme.person,l=$readme.point,m=$readme.sum;new function(){it("156_156__::__        fib' 7 == 13",function(){expect(h(7)).toEqual(13)});it("157_157__::__        fib' 0 == 0",function(){expect(h(0)).toEqual(0)});it("180_180__::__        array.map fib [3,4,5] == [2,3,5]",
function(){expect(r.map(d)([3,4,5])).toEqual([2,3,5])});it("186_186__::__        mmap array fib [3,4,5] == [2,3,5]",function(){expect(q(r)(d)([3,4,5])).toEqual([2,3,5])});it('203_204multi__::__        person("Andrew", "123 Fake St.").message\n            is "Andrew lives at 123 Fake St."',function(){expect(c("Andrew")("123 Fake St.").message).toEqual("Andrew lives at 123 Fake St.")});it("208_208__::__        20 == point.x + point.y",function(){expect(20).toEqual(l.x+l.y)});it('213_216multi__::__        person "Wilfred" "couch"\n            |> .say "I\'m lazy"\n    \n            == "Wilfred says \'I\'m lazy\'"',
function(){expect(function(a){return a.say("I'm lazy")}(c("Wilfred")("couch"))).toEqual("Wilfred says 'I'm lazy'")});it('218_223multi__::__        var people = [\n           person "Josh" "Jersey"\n           person "John" "Egypt"\n        ] in\n    \n        people \'map (.name) == [ "Josh", "John" ]',function(){expect(function(){try{var a=[c("Josh")("Jersey"),c("John")("Egypt")];return g(f(function(a){return a.name})(a))(["Josh","John"])}catch(t){return{error:t}}}()).toEqual(!0)});it('231_231__::__        magnitude {x: 3, y: 4, other: "test"} == 5',
function(){expect(j({other:"test",x:3,y:4})).toEqual(5)});it('232_232__::__        magnitude {x: 4, y: 3, test: "other"} == 5',function(){expect(j({test:"other",x:4,y:3})).toEqual(5)});it("242_248multi__::__        let fil =\n        \n            \u03bb x when x > 5 = x\n            | 5            = 0\n            | x            = 5\n    \n        map fil [2, 6, 3, 7, 5] is [5, 6, 5, 7, 0]",function(){expect(function(){try{return g(f(function(a){return 5<a?a:5===a?0:5})([2,6,3,7,5]))([5,6,5,7,0])}catch(a){return{error:a}}}()).toEqual(!0)});
it("255_255__::__        [1, 2, 3] 'map ((+*) 2) == [6, 8, 10]",function(){expect(f(e(2))([1,2,3])).toEqual([6,8,10])});it("259_260multi__::__        let f = add_twelve 5\n        f 10 == 27",function(){expect(function(){try{var a=n(5);return g(a(10))(27)}catch(b){return{error:b}}}()).toEqual(!0)});it("275_275__::__        8 == do! hello_world >>= \u03bbx = `x + 3`",function(){expect(8).toEqual(function(){var a=p();return a+3}())});it("289_292multi__::__        let x = 0\n            test = lazy do! `x = x + 1; x`\n    \n        in  1 == do! test >> test >> test >> test",
function(){expect(function(){try{var a,b=void 0;a=function(){b||(b=c+=1);return b};var c=0,e=g(1),d;a();a();a();d=a();return e(d)}catch(f){return{error:f}}}()).toEqual(!0)});it('312_312__::__        "hello" ** 3 == "hellohellohello"',function(){expect(b("hello")(3)).toEqual("hellohellohello")});it('313_313__::__        length ("a" ** 10000) == 10000',function(){expect(s(b("a")(1E4))).toEqual(1E4)});it('326_326__::__        error "I am executed conditionally" \'whenever (6 < 5) == {}',function(){expect(function(){return{}}()).toEqual({})});
it('332_334multi__::__        let inline comment _ = true\n    \n        in  comment <: error "I\'m compiled away"',function(){expect(!0).toEqual(!0)});it("371_371__::__        maybe 3 {just: 4} == 4",function(){expect(k(3)({just:4})).toEqual(4)});it("372_372__::__        maybe 3 {nothing} == 3",function(){expect(k(3)({nothing:!0})).toEqual(3)});it("385_388multi__::__        sum { head: 2\n              tail: { head: 3\n                      tail: { nil } } }\n            == 5",function(){expect(m({head:2,
tail:{head:3,tail:{nil:!0}}})).toEqual(5)});it("392_392__::__        sum [: 3, 4, 5 ] == 12",function(){expect(m({head:3,tail:{head:4,tail:{head:5,tail:{nil:!0}}}})).toEqual(12)});it("401_401__::__        has_value {just: 4}",function(){expect(function(){try{return i({just:4})}catch(a){return{error:a}}}()).toEqual(!0)});it("402_402__::__        not (has_value {nothing})",function(){expect(function(){try{var a;a=!i({nothing:!0});return a}catch(b){return{error:b}}}()).toEqual(!0)})}})});
</script>

  </head>

  <body data-spy="scroll" data-target=".bs-docs-sidebar">

    <!-- Navbar
    ================================================== -->
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="">
                <a href="./index.html">Home</a>
              </li>
              <li class="active">
                <a href="./blog.html">News</a>
              </li>
              <li class="dropdown" >
                <a class="dropdown-toggle" data-toggle="dropdown" data=target="#" href="./readme.html">Code</a>
                <ul class="dropdown-menu" role="menu">
                  <li>
                    <a href="./tutorial.html">Tutorial</a>
                  </li>
                  <li>
                    <a href="./prelude.html">Prelude</a>
                  </li>
                  <li>
                    <a href="./tetris.html">Tetris</a>
                  </li>
                  <li>
                    <a href="./parsec.html">Parsec</a>
                  </li>
                </ul>
              </li>
              <li class="">
                <a href="./base-css.html">Get</a>
              </li>
              <li class="">
                <a id="run_tests" href="#">Test</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Subhead
    ================================================== -->
    <header class="jumbotron subhead" id="overview">
      <div class="container">
        <h1>Forml</h1>
        <p class='lead'><p>A contemporary programming language for the discriminating programmer, intended to approximate the safety of <a href="http://www.haskell.org">Haskell</a> and the expressiveness of <a href="http://www.ruby.org">Ruby</a>. Should such an approximation turn out to exist.</p></p>
      </div>
    </header>


    <div class="container">
  
      <!-- Docs nav
      ================================================== -->
      <div class="row">
        <div class="span4 bs-docs-sidebar">
          <div class="nav nav-list bs-docs-sidenav">
              <div id="test_suite"></div>
          </div>
        </div>
        <div id="docs" class="span8">
          <h1 id="features">Features</h1>
<ul>
<li><p>Buzzwords: functional, strict, expressive, pure(ish), static(y), inferred, fast, fun. Strong like a gorilla, yet soft and yielding like a Nerf ball.</p></li>
<li><p>Targets Javascript, but please regard this as an implementation detail - forml is not intended as an answer to &quot;the Javascript problem.&quot; Simple foreign function interface, which allows the introduction of untyped values for quick &amp; dirty code integration, which can later be restricted via explicit typing.</p></li>
<li><p>Type system which is designed to be simple and catch obvious errors, not entirely exhaustive, dictatorial and somewhat combative (I'm looking at you, Haskell). Inferred, strucural types, partials records, ability to introduce unrestricted types via FFI.</p></li>
<li><p>Fast. Automatic tail call optimization, inline functions, designed for use with <a href="https://developers.google.com/closure/">Google Closure Compiler</a> advanced optimizations mode. See [Tests]((http://texodus.github.com/forml/prelude.html) for some simple benchmarks.</p></li>
<li><p>Flexible, expressive syntax. Lots of sugar for obvious tasks.</p></li>
<li><p>Inline testing, compiles to a <a href="http://pivotal.github.com/jasmine">Jasmine</a> suite.</p></li>
<li><p>Heavily inspired by <a href="http://www.haskell.org/haskellwiki/Haskell">Haskell</a> , <a href="http://msdn.microsoft.com/en-us/vstudio/hh388569.aspx">F#</a> , <a href="http://coffeescript.org/">Coffeescript</a>. , (<a href="http://en.wikipedia.org/wiki/Category:ML_programming_language_family">_</a>)(<a href="http://www.smlnj.org/">S</a>)(<a href="http://caml.inria.fr/">OCA</a>)ML , <a href="http://clojure.org/">Clojure</a> , <a href="http://www.haskell.org/haskellwiki/Jmacro">JMacro</a> , <a href="http://www.ruby-lang.org/en/">Ruby</a></p></li>
</ul>
<h1 id="examples">Examples</h1>
<ul>
<li><a href="http://texodus.github.com/forml/tetris.html">Tetris</a></li>
<li><a href="http://texodus.github.com/forml/prelude.html">Prelude</a></li>
<li><a href="http://texodus.github.com/forml/parsec.html">Parsec</a></li>
</ul>
<h1 id="installation">Installation</h1>
<p>(tested on Snow Leopard, Lion, Ubuntu). Note that Forml also requires <a href="https://developers.google.com/closure/">Closure</a> for optimizations and either <a href="http://phantomjs.org">Phantom.js</a> or <a href="http://nodejs.org">Node.js</a></p>
<p>Install the <a href="http://hackage.haskell.org/platform/index.html">Haskell Platform</a>, then</p>
<pre><code>$ cabal install forml</code></pre>
    
<p>To compile some forml files:</p>
<pre><code>$ forml -o app test.forml test2.forml</code></pre>
    
<p>will create an app.js and app.spec.js with the compiled code and test suite respectively.</p>
<p>Forml will by default try to minify/optimize your code with Closure, via the $CLOSURE environment variable, which should point to the closure jar. Failing this, forml will attempt to post your code to the Closure web service.</p>
<p>Additionally, forml will attempt to run the test suite with the phantomjs binary, which it expects to find on your PATH. You may optionally specifiy to run your suite via node.js with</p>
<pre><code>$ forml -node-test test.forml</code></pre>
    
<p>To compile literate forml (eg, Forml code embedded in Markdown):</p>
<pre><code>$ forml test.lforml</code></pre>
       
<p>To see the inferred types:</p>
<pre><code>$ forml -t test.forml</code></pre>
       
<p>To turn off optimizing (eg, Closure) or testing:</p>
<pre><code>$ forml -no-test -no-opt test.forml</code></pre>
    
<p>To watch a file for changes and incrementally compile:</p>
<pre><code>$ forml -w test.forml</code></pre>
    
<p>To generate documentation and test runner (like this file):</p>
<pre><code>$ forml -docs test.forml</code></pre>
    
<p>Be sure to check out <a href="https://github.com/jvshahid/forml-mode">forml-mode</a> if you're into EMACS.</p>
<h1 id="tutorial">Tutorial</h1>
<p>This is unfortunately not comprehensive, and presumes some working knowledge of ML or Haskell. Forml supports a flexible, forgiving syntax that supports many synonymous forms. This will be illustrated by adherring to an entirely random, arbitrary style throughout.</p>
<p>The basic unit of code organization in forml is the <code>module</code>, which is simply a collection of definitions in a namespace.</p>
<pre><code>module readme</code></pre>
<p>Within a module, the compiler recognizes strictly ordered logical sections divided by <code>open</code> statements and sub modules; within a section, however, declarations can be in any order. <code>open</code> statements create local aliases for their own public definitions, which will shadow previously defined symbols.</p>
<pre><code>    open prelude
    open prelude.string
    </code></pre>
<h2 id="definitions">Definitions</h2>
<p>Simple functions. Forml allows function application via spaces as in ML, or via <code>()</code>'s in a more traditional c style -</p>
<pre><code>    square x = x * x

    add(x, y) = x + y</code></pre>
<p>With pattern matching</p>
<pre><code>    fib 0 = 0 | 1 = 1 | n = fib (n - 1) + fib (n - 2)</code></pre>
<p>Patterns can be separated with <code>|</code>, or by repeating the definition's name ala Haskell. Definitions can have optional type annotations, which may restrict the inferred type of the definition, but must not be more general</p>
<pre><code>    private

    fib&#39; : Num -&gt; Num

    fib&#39; 0 = 0
    fib&#39; 1 = 1
    fib&#39; n = fib&#39; (n - 1) + fib&#39; (n - 2)
    </code></pre>
<p>Operators can be defined much like in Haskell. Precedence is currently fixed, though you can declare right associative operators by ending them with a <code>:</code> character.</p>
<h2 id="testing">Testing</h2>
<p>Tests are a first class concept in forml - any unbound in a module (or in other words, any expression which isn't part of a definition), which is inferred as type <code>Bool</code>, is treated as a test, and is compiled to a <a href="http://pivotal.github.com/jasmine">Jasmine</a> suite in a separate file from your definitions.</p>
<pre><code>    <span class='test' id='test_156_156'>fib&#39; 7 == 13</span>
    <span class='test' id='test_157_157'>fib&#39; 0 == 0</span>
    
    </code></pre>
<p>For example, this file is the result of running the forml compiler with the <code>-docs</code> flag for <a href="https://github.com/texodus/forml/blob/master/src/forml/readme.forml">readme.forml</a>, and incorporates both the compiled output and the Jasmine suite. You can execute this suite by clicking the <code>RUN TESTS</code> button, which will highlight the test results in this document</p>
<h2 id="modules">Modules</h2>
<p>Namespaces are not symbols, so this won't work:</p>
<pre><code>    prelude.log "Hello, World!"    -- Won't compile!</code></pre>
        
<p>Instead, you must qualify the import and supply a symbol name to bind to. The alias will be typed to a record whose fields are the first-class definitions in the module.</p>
<pre><code>    open prelude.array as array
    
    <span class='test' id='test_180_180'>array.map fib [3,4,5] == [2,3,5]</span></code></pre>
<p>Notice this means aliased modules can be passed as arguments</p>
<pre><code>    mmap dict f xs = dict.map f xs

    <span class='test' id='test_186_186'>mmap array fib [3,4,5] == [2,3,5]</span>
    
    </code></pre>
<h2 id="records">Records</h2>
<p>Forml has the basic primative types from Javascript: Num, String, Bool; plus a record, which is structurally typed (and implemented as a simple Javascript object, for the curious).</p>
<pre><code>    person name address = { 
        name    = name
        address = address
        message = &quot;`name` lives at `address`&quot;
        say msg = &quot;`name` says &#39;`msg`&#39;&quot;
    }

    <span class='test' id='test_203_204multi'>person(&quot;Andrew&quot;, &quot;123 Fake St.&quot;).message
        is &quot;Andrew lives at 123 Fake St.&quot;</span>

    point = {x: 10, y: 10}
    
    <span class='test' id='test_208_208'>20 == point.x + point.y</span></code></pre>
<p>The sugared syntax <code>.field</code> represents an anonymous accessor function for convenient piping.</p>
<pre><code>    <span class='test' id='test_213_216multi'>person &quot;Wilfred&quot; &quot;couch&quot;
        |&gt; .say &quot;I&#39;m lazy&quot;

        == &quot;Wilfred says &#39;I&#39;m lazy&#39;&quot;</span>

    <span class='test' id='test_218_223multi'>var people = [
       person &quot;Josh&quot; &quot;Jersey&quot;
       person &quot;John&quot; &quot;Egypt&quot;
    ] in

    people &#39;map (.name) == [ &quot;Josh&quot;, &quot;John&quot; ]</span>
    </code></pre>
<p>Records can be destructured in function argumentsn and can partially match with the <code>_</code> character. This type of function will apply to any record with at least the keys in the partial match.</p>
<pre><code>    magnitude {x: x, y: y, _} = sqrt (square x + square y)

    <span class='test' id='test_231_231'>magnitude {x: 3, y: 4, other: &quot;test&quot;} == 5</span>
    <span class='test' id='test_232_232'>magnitude {x: 4, y: 3, test: &quot;other&quot;} == 5</span></code></pre>
<h2 id="functions">Functions</h2>
<p>Anonymous functions also follow Haskell, can be written with <code>\</code> or <code>&#955;</code>, and allows pattern seperation via <code>|</code></p>
<pre><code>    map: (a -&gt; b) -&gt; Array a -&gt; Array b
    map f xs = do! `xs.map(f)`

    <span class='test' id='test_242_248multi'>let fil =
    
        &#955; x when x &gt; 5 = x
        | 5            = 0
        | x            = 5

    map fil [2, 6, 3, 7, 5] is [5, 6, 5, 7, 0]</span></code></pre>
<p>All functions are curried, and can be partiall applied - even operators.</p>
<pre><code>    x +* y = (2 * x) + (2 * y)

    <span class='test' id='test_255_255'>[1, 2, 3] &#39;map ((+*) 2) == [6, 8, 10]</span>

    add_twelve x y = x + y + 12

    <span class='test' id='test_259_260multi'>let f = add_twelve 5
    f 10 == 27</span></code></pre>
<h2 id="interop-side-effects">Interop &amp; Side Effects</h2>
<p>Forml technically allows unrestricted side effects, but by default wraps them in a <code>JS a</code> type, which can be composed with the <code>&gt;&gt;=</code> and <code>&gt;&gt;</code> operators, or a variation of Haskell's <code>do</code> notation.</p>
<pre><code>    hello_world = do

        `console.log(&quot;Hello World&quot;)` -- Calls to Javascript always return type `JS a`
        x &lt;- `Math.sqrt(9)`          -- `x` is inferred to be the unrestricted type `a`
        let z = x + 1                -- `x` is now restricted to type `Num`
        return (z + 1)                  -- type of `hello_world` is inferred to be `JS Num`

    <span class='test' id='test_275_275'>8 == do! hello_world &gt;&gt;= &#955;x = `x + 3`</span></code></pre>
<p>Though this function is inferred to be <code>a -&gt; b</code>, you can restrict it with a signature.</p>
<pre><code>    inline
    sqrt: Num -&gt; Num                 
    sqrt x = do! `Math.sqrt(x)`      -- `do!` realizes its argument immediately</code></pre>
<p>Forml also supports additional keywords <code>lazy</code> and <code>yield</code>. Both take expressions as arguments (as opposed to <code>do</code> syntax), but return an unrealized type <code>JS a</code>, the difference being that <code>lazy</code> will only evaluate it's arguments once, then cache the result.</p>
<pre><code>    <span class='test' id='test_289_292multi'>let x = 0
        test = lazy do! `x = x + 1; x`

    in  1 == do! test &gt;&gt; test &gt;&gt; test &gt;&gt; test</span></code></pre>
<h2 id="tail-call-optimization">Tail Call Optimization</h2>
<p>This example will compile to a <code>for</code> loop, as it is <a href="http://en.wikipedia.org/wiki/Tail_call">tail recursive</a>.<br /><code>var</code> is a synonym for <code>let</code>, and <code>in</code> is an optional binding separator.</p>
<pre><code>    (**): 

         String -&gt; Num -&gt; String
         text   ** n    =

             var f(_, 0, acc) = acc
                 f(text, n, acc) =
                     f(text, n - 1, acc +++ text)
             
             in f(text, n, &quot;&quot;)

    <span class='test' id='test_312_312'>&quot;hello&quot; ** 3 == &quot;hellohellohello&quot;</span>
    <span class='test' id='test_313_313'>length (&quot;a&quot; ** 10000) == 10000</span></code></pre>
<h2 id="inlines">Inlines</h2>
<p>Function inlining allows for macro like behavior, like lazy &amp; conditional evaluation (the <code>'</code> operator here is equivalent is &quot;left-pipe&quot; application, <code>x |&gt; f == x 'f</code>).</p>
<pre><code>    inline whenever x f =
         if x
         then f
         else {}

    <span class='test' id='test_326_326'>error &quot;I am executed conditionally&quot; &#39;whenever (6 &lt; 5) == {}</span></code></pre>
<p>Arguments to an inline can be repeated, nested in yields, ifs or anonymous functions, even removed entirely from the code. Inlines can be used inside let bindings, too!</p>
<pre><code>    <span class='test' id='test_332_334multi'>let inline comment _ = true

    in  comment &lt;: error &quot;I&#39;m compiled away&quot;</span>

    </code></pre>
<h2 id="types-aliases-unions">Types, Aliases &amp; Unions</h2>
<p>Forml is strong, statically typed, and types are inferred and checked at compile time. Unlike in traditional Hindley Milner style inferrence, forml allows you to break the rules with some explicit type annotations.</p>
<pre><code>    num_or_string:

          (Num | String) -&gt; String
        | x when num? x   = &quot;Num&quot;
        | _               = &quot;String&quot;</code></pre>
<p>Structural types look just like the records they represent.</p>
<pre><code>    unwrap: {box: a} -&gt; a
    unwrap {box: x} = x</code></pre>
<p>Algebraic data types and type aliases are declared the same way (where the <code>type</code> keyword is optional). <code>{nothing}</code> here is shorthand for the record type {nothing: {}}, useful for enum types.</p>
<pre><code>    Maybe a = {just: a} | {nothing}</code></pre>
<p>Notice there are no explicit type constructors - in forml, types constructor functions are inferred from the fields of a record and applied automatically. For example, when <code>Maybe a</code> is in scope, any record type with the <code>just</code> or <code>nothing</code> keys will be inferred to be a type <code>Maybe a</code>.</p>
<pre><code>    maybe x {just: y} = y
    maybe x {nothing} = x

    <span class='test' id='test_371_371'>maybe 3 {just: 4} == 4</span>
    <span class='test' id='test_372_372'>maybe 3 {nothing} == 3</span>

    type Tree a =

        {left_tree: Tree a, right_tree: Tree a}
      | {leaf: a}

    type List a = { head: a, tail: List a } | { nil }

    sum: List Num -&gt; Num
    sum { head: x, tail: xs } = x + sum xs
    sum { nil } = 0
    
    <span class='test' id='test_385_388multi'>sum { head: 2
          tail: { head: 3
                  tail: { nil } } }
        == 5</span></code></pre>
<p>Lists have a syntax sugar as well.</p>
<pre><code>    <span class='test' id='test_392_392'>sum [: 3, 4, 5 ] == 12</span></code></pre>
<p>In case this sort of things floats your boat, you can also declare polymorphic types in &quot;java&quot; style, with <code>&lt; &gt;</code>.</p>
<pre><code>    has_value: Maybe&lt;a&gt; -&gt; Bool
    has_value {just: _} = true
    has_value _ = false

    <span class='test' id='test_401_401'>has_value {just: 4}</span>
    <span class='test' id='test_402_402'>not (has_value {nothing})</span>
    </code></pre>
<h1 id="changes">Changes</h1>
<p>0.2</p>
<ul>
<li>Incremental compilation, increased compilation speed</li>
<li>Made inlines inline their arguments as well when fully applied, like a macro. Code generator works better with Closure, resulting in smaller, more optimized JS.</li>
<li>One-sided <code>if</code> expressions.</li>
<li><code>where</code> expressions.</li>
<li>Silent mode</li>
<li>Fixed namespace rendering error.</li>
<li>Fixed definition ordering in let bindings.</li>
<li>Fixed indentation error</li>
</ul>
<p>0.1.3</p>
<ul>
<li>Fixed many parsing bugs, including negative numbers, indentation on anonymous functions &amp; do blocks, string-escaping, <code>isnt</code>, accessor ordering.</li>
<li>Operator partials ala Haskell, <code>sum = reduce (+)</code></li>
<li>Fixed type checking of mutually recursive definitions.</li>
<li>Fixed Node.js test suite to work nearly-identically to Phantom.js</li>
<li>Fixed output to use sensible filenames, and respect the <code>-o</code> option.</li>
<li><a href="http://texodus.github.com/forml/tetris.html">Tetris!</a></li>
</ul>
<p>0.1.2</p>
<ul>
<li>Added accessor function syntax for treating record fields as functions (eg <code>x.map f == x |&gt; .map f</code>)</li>
<li>Added <code>_</code> as valid type variable for throwaway unique types.</li>
<li>Module aliases allow binding a module to a structurally typed symbol (eg <code>open prelude.list as list</code>).</li>
<li>Prelude expanded, with special attention to the <code>array</code> module.</li>
<li>Embedded prelude tests are skipped.</li>
<li>Bug fixes.</li>
</ul>
<p>0.1.1</p>
<ul>
<li>Documentation generation has been greatly improved. Better styling, generates individual pages for each file.</li>
<li>The prelude is now embedded in the compiler. Simply import it via <code>open prelude</code> - the compiler will include the code automatically. Currently weighs in at ~11k, if you care about that sort of thing.</li>
<li>Command line interface is more pleasant to work with</li>
</ul>
<h1 id="contributors">Contributors</h1>
<p>A special thanks to everyone who has contributed to forml!</p>
<ul>
<li><a href="https://github.com/jvshahid">jvshahid</a></li>
<li><a href="https://github.com/JHawk">jhawk</a></li>
<li><a href="https://github.com/mightybyte">mightybyte</a></li>
<li><a href="https://github.com/taku0">taku0</a></li>
<li><a href="https://github.com/brow">brow</a></li>
<li><a href="https://github.com/dignati">dignati</a></li>
</ul>
        </div>
      </div>
  
    </div>

    <!-- Footer
    ================================================== -->
    <footer class="footer">
      <div class="container">
      </div>
    </footer>
    
    <script type="text/javascript">
      jQuery('.bs-docs-sidenav').affix({
        offset: {
          top: function () {
            if ($(window).width() <= 767) {
              return Infinity;
            } else {
              var test_height = jQuery("#test_suite").height() - jQuery(window).height();
              var page_height = jQuery(document).height();
              var ratio = test_height / page_height;
              var offset = Math.min(-5, -((document.body.scrollTop - 380) * (test_height / page_height)));
              jQuery("#test_suite").css("margin-top", offset)
              return 380;
            }
          }
        }
      });

      jQuery('pre').addClass('prettyprint lang-hs');
      prettyPrint();
      jQuery('#run_tests').bind('click', $prelude.$html.table_of_contents);

    </script>

  </body>
</html>